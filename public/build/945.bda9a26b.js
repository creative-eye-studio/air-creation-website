/*! For license information please see 945.bda9a26b.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[945],{6599:(e,t,n)=>{"use strict";n.d(t,{Mx:()=>U,Qr:()=>Y});class r{constructor(e,t,n){this.eventTarget=e,this.eventName=t,this.eventOptions=n,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){const t=function(e){if("immediatePropagationStopped"in e)return e;{const{stopImmediatePropagation:t}=e;return Object.assign(e,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,t.call(this)}})}}(e);for(const e of this.bindings){if(t.immediatePropagationStopped)break;e.handleEvent(t)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort(((e,t)=>{const n=e.index,r=t.index;return n<r?-1:n>r?1:0}))}}class i{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach((e=>e.connect())))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach((e=>e.disconnect())))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce(((e,t)=>e.concat(Array.from(t.values()))),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,t=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),t&&this.clearEventListenersForBinding(e)}handleError(e,t,n={}){this.application.handleError(e,`Error ${t}`,n)}clearEventListenersForBinding(e){const t=this.fetchEventListenerForBinding(e);t.hasBindings()||(t.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){const{eventTarget:t,eventName:n,eventOptions:r}=e,i=this.fetchEventListenerMapForEventTarget(t),s=this.cacheKey(n,r);i.delete(s),0==i.size&&this.eventListenerMaps.delete(t)}fetchEventListenerForBinding(e){const{eventTarget:t,eventName:n,eventOptions:r}=e;return this.fetchEventListener(t,n,r)}fetchEventListener(e,t,n){const r=this.fetchEventListenerMapForEventTarget(e),i=this.cacheKey(t,n);let s=r.get(i);return s||(s=this.createEventListener(e,t,n),r.set(i,s)),s}createEventListener(e,t,n){const i=new r(e,t,n);return this.started&&i.connect(),i}fetchEventListenerMapForEventTarget(e){let t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t}cacheKey(e,t){const n=[e];return Object.keys(t).sort().forEach((e=>{n.push(`${t[e]?"":"!"}${e}`)})),n.join(":")}}const s={stop:({event:e,value:t})=>(t&&e.stopPropagation(),!0),prevent:({event:e,value:t})=>(t&&e.preventDefault(),!0),self:({event:e,value:t,element:n})=>!t||n===e.target},o=/^((.+?)(@(window|document))?->)?(.+?)(#([^:]+?))(:(.+))?$/;function a(e){return"window"==e?window:"document"==e?document:void 0}function l(e){return e.replace(/(?:[_-])([a-z0-9])/g,((e,t)=>t.toUpperCase()))}function c(e){return e.charAt(0).toUpperCase()+e.slice(1)}function u(e){return e.replace(/([A-Z])/g,((e,t)=>`-${t.toLowerCase()}`))}class d{constructor(e,t,n){this.element=e,this.index=t,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||function(e){const t=e.tagName.toLowerCase();if(t in h)return h[t](e)}(e)||p("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||p("missing identifier"),this.methodName=n.methodName||p("missing method name")}static forToken(e){return new this(e.element,e.index,function(e){const t=e.trim().match(o)||[];return{eventTarget:a(t[4]),eventName:t[2],eventOptions:t[9]?(n=t[9],n.split(":").reduce(((e,t)=>Object.assign(e,{[t.replace(/^!/,"")]:!/^!/.test(t)})),{})):{},identifier:t[5],methodName:t[7]};var n}(e.content))}toString(){const e=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}->${this.identifier}#${this.methodName}`}get params(){const e={},t=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(const{name:n,value:r}of Array.from(this.element.attributes)){const i=n.match(t),s=i&&i[1];s&&(e[l(s)]=f(r))}return e}get eventTargetName(){return(e=this.eventTarget)==window?"window":e==document?"document":void 0;var e}}const h={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:e=>"submit"==e.getAttribute("type")?"click":"input",select:()=>"change",textarea:()=>"input"};function p(e){throw new Error(e)}function f(e){try{return JSON.parse(e)}catch(t){return e}}class g{constructor(e,t){this.context=e,this.action=t}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){this.willBeInvokedByEvent(e)&&this.applyEventModifiers(e)&&this.invokeWithEvent(e)}get eventName(){return this.action.eventName}get method(){const e=this.controller[this.methodName];if("function"==typeof e)return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){const{element:t}=this.action,{actionDescriptorFilters:n}=this.context.application;let r=!0;for(const[i,s]of Object.entries(this.eventOptions))if(i in n){const o=n[i];r=r&&o({name:i,value:s,event:e,element:t})}return r}invokeWithEvent(e){const{target:t,currentTarget:n}=e;try{const{params:r}=this.action,i=Object.assign(e,{params:r});this.method.call(this.controller,i),this.context.logDebugActivity(this.methodName,{event:e,target:t,currentTarget:n,action:this.methodName})}catch(t){const{identifier:n,controller:r,element:i,index:s}=this,o={identifier:n,controller:r,element:i,index:s,event:e};this.context.handleError(t,`invoking action "${this.action}"`,o)}}willBeInvokedByEvent(e){const t=e.target;return this.element===t||(t instanceof Element&&this.element.contains(t)?this.scope.containsElement(t):this.scope.containsElement(this.action.element))}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}}class m{constructor(e,t){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver((e=>this.processMutations(e)))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){const e=new Set(this.matchElementsInTree());for(const t of Array.from(this.elements))e.has(t)||this.removeElement(t);for(const t of Array.from(e))this.addElement(t)}}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){"attributes"==e.type?this.processAttributeChange(e.target,e.attributeName):"childList"==e.type&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,t){const n=e;this.elements.has(n)?this.delegate.elementAttributeChanged&&this.matchElement(n)?this.delegate.elementAttributeChanged(n,t):this.removeElement(n):this.matchElement(n)&&this.addElement(n)}processRemovedNodes(e){for(const t of Array.from(e)){const e=this.elementFromNode(t);e&&this.processTree(e,this.removeElement)}}processAddedNodes(e){for(const t of Array.from(e)){const e=this.elementFromNode(t);e&&this.elementIsActive(e)&&this.processTree(e,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,t){for(const n of this.matchElementsInTree(e))t.call(this,n)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected==this.element.isConnected&&this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}}class v{constructor(e,t,n){this.attributeName=t,this.delegate=n,this.elementObserver=new m(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){const t=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return t.concat(n)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)}}class y{constructor(e,t){this.element=e,this.delegate=t,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver((e=>this.processMutations(e)))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(const e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){const t=e.attributeName;t&&this.refreshAttribute(t,e.oldValue)}refreshAttribute(e,t){const n=this.delegate.getStringMapKeyForAttribute(e);if(null!=n){this.stringMap.has(e)||this.stringMapKeyAdded(n,e);const r=this.element.getAttribute(e);if(this.stringMap.get(e)!=r&&this.stringMapValueChanged(r,n,t),null==r){const t=this.stringMap.get(e);this.stringMap.delete(e),t&&this.stringMapKeyRemoved(n,e,t)}else this.stringMap.set(e,r)}}stringMapKeyAdded(e,t){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,t)}stringMapValueChanged(e,t,n){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,t,n)}stringMapKeyRemoved(e,t,n){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,t,n)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map((e=>e.name))}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}}function b(e,t,n){O(e,t).add(n)}function w(e,t,n){O(e,t).delete(n),function(e,t){const n=e.get(t);null!=n&&0==n.size&&e.delete(t)}(e,t)}function O(e,t){let n=e.get(t);return n||(n=new Set,e.set(t,n)),n}class E{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce(((e,t)=>e.concat(Array.from(t))),[])}get size(){return Array.from(this.valuesByKey.values()).reduce(((e,t)=>e+t.size),0)}add(e,t){b(this.valuesByKey,e,t)}delete(e,t){w(this.valuesByKey,e,t)}has(e,t){const n=this.valuesByKey.get(e);return null!=n&&n.has(t)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some((t=>t.has(e)))}getValuesForKey(e){const t=this.valuesByKey.get(e);return t?Array.from(t):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter((([t,n])=>n.has(e))).map((([e,t])=>e))}}class A{constructor(e,t,n){this.attributeObserver=new v(e,t,this),this.delegate=n,this.tokensByElement=new E}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){const[t,n]=this.refreshTokensForElement(e);this.tokensUnmatched(t),this.tokensMatched(n)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach((e=>this.tokenMatched(e)))}tokensUnmatched(e){e.forEach((e=>this.tokenUnmatched(e)))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){const t=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),r=function(e,t){const n=Math.max(e.length,t.length);return Array.from({length:n},((n,r)=>[e[r],t[r]]))}(t,n).findIndex((([e,t])=>{return r=t,!((n=e)&&r&&n.index==r.index&&n.content==r.content);var n,r}));return-1==r?[[],[]]:[t.slice(r),n.slice(r)]}readTokensForElement(e){const t=this.attributeName;return function(e,t,n){return e.trim().split(/\s+/).filter((e=>e.length)).map(((e,r)=>({element:t,attributeName:n,content:e,index:r})))}(e.getAttribute(t)||"",e,t)}}class _{constructor(e,t,n){this.tokenListObserver=new A(e,t,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){const{element:t}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(t).set(e,n),this.delegate.elementMatchedValue(t,n))}tokenUnmatched(e){const{element:t}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,n))}fetchParseResultForToken(e){let t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t}fetchValuesByTokenForElement(e){let t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(e){return{error:e}}}}class k{constructor(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new _(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){const t=new g(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)}disconnectAction(e){const t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))}disconnectAllActions(){this.bindings.forEach((e=>this.delegate.bindingDisconnected(e,!0))),this.bindingsByAction.clear()}parseValueForToken(e){const t=d.forToken(e);if(t.identifier==this.identifier)return t}elementMatchedValue(e,t){this.connectAction(t)}elementUnmatchedValue(e,t){this.disconnectAction(t)}}class S{constructor(e,t){this.context=e,this.receiver=t,this.stringMapObserver=new y(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,t){const n=this.valueDescriptorMap[t];this.hasValue(e)||this.invokeChangedCallback(e,n.writer(this.receiver[e]),n.writer(n.defaultValue))}stringMapValueChanged(e,t,n){const r=this.valueDescriptorNameMap[t];null!==e&&(null===n&&(n=r.writer(r.defaultValue)),this.invokeChangedCallback(t,e,n))}stringMapKeyRemoved(e,t,n){const r=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,r.writer(this.receiver[e]),n):this.invokeChangedCallback(e,r.writer(r.defaultValue),n)}invokeChangedCallbacksForDefaultValues(){for(const{key:e,name:t,defaultValue:n,writer:r}of this.valueDescriptors)null==n||this.controller.data.has(e)||this.invokeChangedCallback(t,r(n),void 0)}invokeChangedCallback(e,t,n){const r=`${e}Changed`,i=this.receiver[r];if("function"==typeof i){const r=this.valueDescriptorNameMap[e];try{const e=r.reader(t);let s=n;n&&(s=r.reader(n)),i.call(this.receiver,e,s)}catch(e){throw e instanceof TypeError&&(e.message=`Stimulus Value "${this.context.identifier}.${r.name}" - ${e.message}`),e}}}get valueDescriptors(){const{valueDescriptorMap:e}=this;return Object.keys(e).map((t=>e[t]))}get valueDescriptorNameMap(){const e={};return Object.keys(this.valueDescriptorMap).forEach((t=>{const n=this.valueDescriptorMap[t];e[n.name]=n})),e}hasValue(e){const t=`has${c(this.valueDescriptorNameMap[e].name)}`;return this.receiver[t]}}class C{constructor(e,t){this.context=e,this.delegate=t,this.targetsByName=new E}start(){this.tokenListObserver||(this.tokenListObserver=new A(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:t}){this.scope.containsElement(e)&&this.connectTarget(e,t)}tokenUnmatched({element:e,content:t}){this.disconnectTarget(e,t)}connectTarget(e,t){var n;this.targetsByName.has(t,e)||(this.targetsByName.add(t,e),null===(n=this.tokenListObserver)||void 0===n||n.pause((()=>this.delegate.targetConnected(e,t))))}disconnectTarget(e,t){var n;this.targetsByName.has(t,e)&&(this.targetsByName.delete(t,e),null===(n=this.tokenListObserver)||void 0===n||n.pause((()=>this.delegate.targetDisconnected(e,t))))}disconnectAllTargets(){for(const e of this.targetsByName.keys)for(const t of this.targetsByName.getValuesForKey(e))this.disconnectTarget(t,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}}class x{constructor(e,t){this.logDebugActivity=(e,t={})=>{const{identifier:n,controller:r,element:i}=this;t=Object.assign({identifier:n,controller:r,element:i},t),this.application.logDebugActivity(this.identifier,e,t)},this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new k(this,this.dispatcher),this.valueObserver=new S(this,this.controller),this.targetObserver=new C(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(e){this.handleError(e,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,t,n={}){const{identifier:r,controller:i,element:s}=this;n=Object.assign({identifier:r,controller:i,element:s},n),this.application.handleError(e,`Error ${t}`,n)}targetConnected(e,t){this.invokeControllerMethod(`${t}TargetConnected`,e)}targetDisconnected(e,t){this.invokeControllerMethod(`${t}TargetDisconnected`,e)}invokeControllerMethod(e,...t){const n=this.controller;"function"==typeof n[e]&&n[e](...t)}}function T(e,t){const n=I(e);return Array.from(n.reduce(((e,n)=>(function(e,t){const n=e[t];return Array.isArray(n)?n:[]}(n,t).forEach((t=>e.add(t))),e)),new Set))}function L(e,t){return I(e).reduce(((e,n)=>(e.push(...function(e,t){const n=e[t];return n?Object.keys(n).map((e=>[e,n[e]])):[]}(n,t)),e)),[])}function I(e){const t=[];for(;e;)t.push(e),e=Object.getPrototypeOf(e);return t.reverse()}function P(e){return function(e,t){const n=j(e),r=function(e,t){return M(t).reduce(((n,r)=>{const i=function(e,t,n){const r=Object.getOwnPropertyDescriptor(e,n);if(!r||!("value"in r)){const e=Object.getOwnPropertyDescriptor(t,n).value;return r&&(e.get=r.get||e.get,e.set=r.set||e.set),e}}(e,t,r);return i&&Object.assign(n,{[r]:i}),n}),{})}(e.prototype,t);return Object.defineProperties(n.prototype,r),n}(e,function(e){return T(e,"blessings").reduce(((t,n)=>{const r=n(e);for(const e in r){const n=t[e]||{};t[e]=Object.assign(n,r[e])}return t}),{})}(e))}const M="function"==typeof Object.getOwnPropertySymbols?e=>[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)]:Object.getOwnPropertyNames,j=(()=>{function e(e){function t(){return Reflect.construct(e,arguments,new.target)}return t.prototype=Object.create(e.prototype,{constructor:{value:t}}),Reflect.setPrototypeOf(t,e),t}try{return function(){const t=e((function(){this.a.call(this)}));t.prototype.a=function(){},new t}(),e}catch(e){return e=>class extends e{}}})();class F{constructor(e,t){this.application=e,this.definition=function(e){return{identifier:e.identifier,controllerConstructor:P(e.controllerConstructor)}}(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){const t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()}disconnectContextForScope(e){const t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())}fetchContextForScope(e){let t=this.contextsByScope.get(e);return t||(t=new x(this,e),this.contextsByScope.set(e,t)),t}}class N{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){const t=this.data.get(this.getDataKey(e))||"";return t.match(/[^\s]+/g)||[]}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}}class D{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){const t=this.getAttributeNameForKey(e);return this.element.getAttribute(t)}set(e,t){const n=this.getAttributeNameForKey(e);return this.element.setAttribute(n,t),this.get(e)}has(e){const t=this.getAttributeNameForKey(e);return this.element.hasAttribute(t)}delete(e){if(this.has(e)){const t=this.getAttributeNameForKey(e);return this.element.removeAttribute(t),!0}return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${u(e)}`}}class B{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,t,n){let r=this.warnedKeysByObject.get(e);r||(r=new Set,this.warnedKeysByObject.set(e,r)),r.has(t)||(r.add(t),this.logger.warn(n,e))}}function $(e,t){return`[${e}~="${t}"]`}class V{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return null!=this.find(e)}find(...e){return e.reduce(((e,t)=>e||this.findTarget(t)||this.findLegacyTarget(t)),void 0)}findAll(...e){return e.reduce(((e,t)=>[...e,...this.findAllTargets(t),...this.findAllLegacyTargets(t)]),[])}findTarget(e){const t=this.getSelectorForTargetName(e);return this.scope.findElement(t)}findAllTargets(e){const t=this.getSelectorForTargetName(e);return this.scope.findAllElements(t)}getSelectorForTargetName(e){return $(this.schema.targetAttributeForScope(this.identifier),e)}findLegacyTarget(e){const t=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(t),e)}findAllLegacyTargets(e){const t=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(t).map((t=>this.deprecate(t,e)))}getLegacySelectorForTargetName(e){const t=`${this.identifier}.${e}`;return $(this.schema.targetAttribute,t)}deprecate(e,t){if(e){const{identifier:n}=this,r=this.schema.targetAttribute,i=this.schema.targetAttributeForScope(n);this.guide.warn(e,`target:${t}`,`Please replace ${r}="${n}.${t}" with ${i}="${t}". The ${r} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}}class R{constructor(e,t,n,r){this.targets=new V(this),this.classes=new N(this),this.data=new D(this),this.containsElement=e=>e.closest(this.controllerSelector)===this.element,this.schema=e,this.element=t,this.identifier=n,this.guide=new B(r)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return $(this.schema.controllerAttribute,this.identifier)}}class H{constructor(e,t,n){this.element=e,this.schema=t,this.delegate=n,this.valueListObserver=new _(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){const{element:t,content:n}=e,r=this.fetchScopesByIdentifierForElement(t);let i=r.get(n);return i||(i=this.delegate.createScopeForElementAndIdentifier(t,n),r.set(n,i)),i}elementMatchedValue(e,t){const n=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,n),1==n&&this.delegate.scopeConnected(t)}elementUnmatchedValue(e,t){const n=this.scopeReferenceCounts.get(t);n&&(this.scopeReferenceCounts.set(t,n-1),1==n&&this.delegate.scopeDisconnected(t))}fetchScopesByIdentifierForElement(e){let t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t}}class K{constructor(e){this.application=e,this.scopeObserver=new H(this.element,this.schema,this),this.scopesByIdentifier=new E,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce(((e,t)=>e.concat(t.contexts)),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);const t=new F(this.application,e);this.connectModule(t)}unloadIdentifier(e){const t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)}getContextForElementAndIdentifier(e,t){const n=this.modulesByIdentifier.get(t);if(n)return n.contexts.find((t=>t.element==e))}handleError(e,t,n){this.application.handleError(e,t,n)}createScopeForElementAndIdentifier(e,t){return new R(this.schema,e,t,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e);this.scopesByIdentifier.getValuesForKey(e.identifier).forEach((t=>e.connectContextForScope(t)))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier);this.scopesByIdentifier.getValuesForKey(e.identifier).forEach((t=>e.disconnectContextForScope(t)))}}const q={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:e=>`data-${e}-target`};class U{constructor(e=document.documentElement,t=q){this.logger=console,this.debug=!1,this.logDebugActivity=(e,t,n={})=>{this.debug&&this.logFormattedMessage(e,t,n)},this.element=e,this.schema=t,this.dispatcher=new i(this),this.router=new K(this),this.actionDescriptorFilters=Object.assign({},s)}static start(e,t){const n=new U(e,t);return n.start(),n}async start(){await new Promise((e=>{"loading"==document.readyState?document.addEventListener("DOMContentLoaded",(()=>e())):e()})),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,t){this.load({identifier:e,controllerConstructor:t})}registerActionOption(e,t){this.actionDescriptorFilters[e]=t}load(e,...t){(Array.isArray(e)?e:[e,...t]).forEach((e=>{e.controllerConstructor.shouldLoad&&this.router.loadDefinition(e)}))}unload(e,...t){(Array.isArray(e)?e:[e,...t]).forEach((e=>this.router.unloadIdentifier(e)))}get controllers(){return this.router.contexts.map((e=>e.controller))}getControllerForElementAndIdentifier(e,t){const n=this.router.getContextForElementAndIdentifier(e,t);return n?n.controller:null}handleError(e,t,n){var r;this.logger.error("%s\n\n%o\n\n%o",t,e,n),null===(r=window.onerror)||void 0===r||r.call(window,t,"",0,0,e)}logFormattedMessage(e,t,n={}){n=Object.assign({application:this},n),this.logger.groupCollapsed(`${e} #${t}`),this.logger.log("details:",Object.assign({},n)),this.logger.groupEnd()}}function z([e,t],n){return function(e){const t=`${u(e.token)}-value`,n=function(e){const t=function(e){const t=G(e.typeObject.type);if(!t)return;const n=W(e.typeObject.default);if(t!==n){const r=e.controller?`${e.controller}.${e.token}`:e.token;throw new Error(`The specified default value for the Stimulus Value "${r}" must match the defined type "${t}". The provided default value of "${e.typeObject.default}" is of type "${n}".`)}return t}({controller:e.controller,token:e.token,typeObject:e.typeDefinition}),n=W(e.typeDefinition),r=G(e.typeDefinition),i=t||n||r;if(i)return i;const s=e.controller?`${e.controller}.${e.typeDefinition}`:e.token;throw new Error(`Unknown value type "${s}" for "${e.token}" value`)}(e);return{type:n,key:t,name:l(t),get defaultValue(){return function(e){const t=G(e);if(t)return Q[t];const n=e.default;return void 0!==n?n:e}(e.typeDefinition)},get hasCustomDefaultValue(){return void 0!==W(e.typeDefinition)},reader:J[n],writer:Z[n]||Z.default}}({controller:n,token:e,typeDefinition:t})}function G(e){switch(e){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function W(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}return Array.isArray(e)?"array":"[object Object]"===Object.prototype.toString.call(e)?"object":void 0}const Q={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},J={array(e){const t=JSON.parse(e);if(!Array.isArray(t))throw new TypeError(`expected value of type "array" but instead got value "${e}" of type "${W(t)}"`);return t},boolean:e=>!("0"==e||"false"==String(e).toLowerCase()),number:e=>Number(e),object(e){const t=JSON.parse(e);if(null===t||"object"!=typeof t||Array.isArray(t))throw new TypeError(`expected value of type "object" but instead got value "${e}" of type "${W(t)}"`);return t},string:e=>e},Z={default:function(e){return`${e}`},array:X,object:X};function X(e){return JSON.stringify(e)}class Y{constructor(e){this.context=e}static get shouldLoad(){return!0}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:n={},prefix:r=this.identifier,bubbles:i=!0,cancelable:s=!0}={}){const o=new CustomEvent(r?`${r}:${e}`:e,{detail:n,bubbles:i,cancelable:s});return t.dispatchEvent(o),o}}Y.blessings=[function(e){return T(e,"classes").reduce(((e,t)=>{return Object.assign(e,{[`${n=t}Class`]:{get(){const{classes:e}=this;if(e.has(n))return e.get(n);{const t=e.getAttributeName(n);throw new Error(`Missing attribute "${t}"`)}}},[`${n}Classes`]:{get(){return this.classes.getAll(n)}},[`has${c(n)}Class`]:{get(){return this.classes.has(n)}}});var n}),{})},function(e){return T(e,"targets").reduce(((e,t)=>{return Object.assign(e,{[`${n=t}Target`]:{get(){const e=this.targets.find(n);if(e)return e;throw new Error(`Missing target element "${n}" for "${this.identifier}" controller`)}},[`${n}Targets`]:{get(){return this.targets.findAll(n)}},[`has${c(n)}Target`]:{get(){return this.targets.has(n)}}});var n}),{})},function(e){const t=L(e,"values"),n={valueDescriptorMap:{get(){return t.reduce(((e,t)=>{const n=z(t,this.identifier),r=this.data.getAttributeNameForKey(n.key);return Object.assign(e,{[r]:n})}),{})}}};return t.reduce(((e,t)=>Object.assign(e,function(e,t){const n=z(e,t),{key:r,name:i,reader:s,writer:o}=n;return{[i]:{get(){const e=this.data.get(r);return null!==e?s(e):n.defaultValue},set(e){void 0===e?this.data.delete(r):this.data.set(r,o(e))}},[`has${c(i)}`]:{get(){return this.data.has(r)||n.hasCustomDefaultValue}}}}(t))),n)}],Y.targets=[],Y.values={}},3784:(e,t,n)=>{"use strict";var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(4537);var o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(e.name="DebugPlugin",e.triggerEvent=function(t,n){n?(console.groupCollapsed("%cswup:%c"+t,"color: #343434","color: #009ACD"),console.log(n),console.groupEnd()):console.log("%cswup:%c"+t,"color: #343434","color: #009ACD"),e.swup._triggerEvent(t,n)},e.log=function(e,t){if(t){for(var n in console.groupCollapsed(e),t)console.log(t[n]);console.groupEnd()}else console.log(e+"%c","color: #009ACD")},e.debugLog=function(e,t){"error"===t?console.error("DEBUG PLUGIN: "+e):console.warn("DEBUG PLUGIN: "+e)},!document.getElementsByTagName("title").length){console.warn("DEBUG PLUGIN: This page doesn't have title tag. Title tag is required in every page.")}return e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"mount",value:function(){var e=this.swup;e.log=this.log,window.swup=e,e._triggerEvent=e.triggerEvent,e.triggerEvent=this.triggerEvent;var t='a[href]:not([href^="'+window.location.origin+'"]):not([href^="/"]):not([href^="http"]):not([href^="/"]):not([href^="?"]):not([href^="#"])';e.on("pageView",(function(){if(document.querySelectorAll(t).length){console.warn('DEBUG PLUGIN: It seems there are some links with a href attribute not starting with "#", "/" or current domain, which is potentially a problem.',document.querySelectorAll(t))}if(document.querySelectorAll(t).length){console.warn('DEBUG PLUGIN: It seems there are some links with a href attribute not starting with "#", "/" or current domain, which is potentially a problem.',document.querySelectorAll(t))}}))}},{key:"unmount",value:function(){this.swup.log=function(){},this.swup.triggerEvent=this.swup._triggerEvent}}]),t}(((r=s)&&r.__esModule?r:{default:r}).default);t.Z=o},2460:e=>{var t;window,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r,i=n(1),s=(r=i)&&r.__esModule?r:{default:r};e.exports=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=a(n(2)),o=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.name="FadeTheme",n.options=r({},{mainElement:"#swup"},e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"mount",value:function(){this.applyStyles(o.default),this.addClassName(this.options.mainElement,"main")}}]),t}(s.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._addedStyleElements=[],this._addedHTMLContent=[],this._classNameAddedToElements=[],this._addClassNameToElement=function(){t._classNameAddedToElements.forEach((function(e){Array.prototype.slice.call(document.querySelectorAll(e.selector)).forEach((function(t){t.classList.add("swup-transition-"+e.name)}))}))},this.isSwupPlugin=!0}return r(e,[{key:"_beforeMount",value:function(){this._originalAnimationSelectorOption=String(this.swup.options.animationSelector),this.swup.options.animationSelector='[class*="swup-transition-"]',this.swup.on("contentReplaced",this._addClassNameToElement)}},{key:"_afterUnmount",value:function(){this.swup.options.animationSelector=this._originalAnimationSelectorOption,this._addedStyleElements.forEach((function(e){e.outerHTML="",e=null})),this._addedHTMLContent.forEach((function(e){e.outerHTML="",e=null})),this._classNameAddedToElements.forEach((function(e){Array.prototype.slice.call(document.querySelectorAll(e.selector)).forEach((function(e){e.className.split(" ").forEach((function(t){new RegExp("^swup-transition-").test(t)&&e.classList.remove(t)}))}))})),this.swup.off("contentReplaced",this._addClassNameToElement)}},{key:"mount",value:function(){}},{key:"unmount",value:function(){}},{key:"applyStyles",value:function(e){var t=document.head,n=document.createElement("style");n.setAttribute("data-swup-theme",""),n.appendChild(document.createTextNode(e)),this._addedStyleElements.push(n),t.prepend(n)}},{key:"applyHTML",value:function(e){var t=document.createElement("div");t.innerHTML=e,this._addedHTMLContent.push(t),document.body.appendChild(t)}},{key:"addClassName",value:function(e,t){this._classNameAddedToElements.push({selector:e,name:t}),this._addClassNameToElement()}}]),e}();t.default=i},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,".swup-transition-main {\n    opacity: 1;\n    transition: opacity .4s;\n}\n\nhtml.is-animating .swup-transition-main {\n    opacity: 0;\n}",""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r=e[1]||"",i=e[3];if(!i)return r;if(t&&"function"==typeof btoa){var s=(n=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),o=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[r].concat(o).concat([s]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var s=this[i][0];null!=s&&(r[s]=!0)}for(i=0;i<e.length;i++){var o=e[i];null!=o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}}])},e.exports=t()},3766:(e,t,n)=>{"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(4537)),a=c(n(500)),l=n(7004);function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.name="FormsPlugin",n.onKeyDown=function(e){n.specialKeys.hasOwnProperty(e.key)&&(n.specialKeys[e.key]=!0)},n.onKeyUp=function(e){n.specialKeys.hasOwnProperty(e.key)&&(n.specialKeys[e.key]=!1)};return n.options=i({},{formSelector:"form[data-swup-form]"},e),n.specialKeys={Meta:!1,Control:!1,Shift:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"mount",value:function(){var e=this.swup;e._handlers.submitForm=[],e._handlers.openFormSubmitInNewTab=[],e.delegatedListeners.formSubmit=(0,a.default)(document,this.options.formSelector,"submit",this.beforeFormSubmit.bind(this),{capture:!0}),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}},{key:"unmount",value:function(){this.swup.delegatedListeners.formSubmit.destroy(),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp)}},{key:"beforeFormSubmit",value:function(e){var t=this,n=this.swup;n.triggerEvent("submitForm",e);var r=e.target;if(this.isSpecialKeyPressed()){this.resetSpecialKeys(),n.triggerEvent("openFormSubmitInNewTab",e);var i=r.getAttribute("target");return r.setAttribute("target","_blank"),void r.addEventListener("submit",(function(e){requestAnimationFrame((function(){t.restorePreviousFormTarget(e.target,i)}))}),{once:!0})}this.submitForm(e)}},{key:"restorePreviousFormTarget",value:function(e,t){t?e.setAttribute("target",t):e.removeAttribute("target")}},{key:"submitForm",value:function(e){var t=this.swup;e.preventDefault();var n=e.target,r=new FormData(n),i=n.getAttribute("action")||window.location.href,s=(n.getAttribute("method")||"get").toUpperCase(),o=n.getAttribute("data-swup-transition"),a=new l.Link(i),c=a.getHash(),u=a.getAddress();c&&(t.scrollToElement=c),"GET"===s?(u=this.appendQueryParams(u,r),t.cache.remove(u),t.loadPage({url:u,customTransition:o})):(t.cache.remove(u),t.loadPage({url:u,method:s,data:r,customTransition:o}))}},{key:"appendQueryParams",value:function(e,t){e=e.split("?")[0];var n=new URLSearchParams(t).toString();return n?e+"?"+n:e}},{key:"isSpecialKeyPressed",value:function(){return Object.values(this.specialKeys).some((function(e){return e}))}},{key:"resetSpecialKeys",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,s=Object.entries(this.specialKeys)[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){var o=r(i.value,2),a=o[0];o[1];this.specialKeys[a]=!1}}catch(e){t=!0,n=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw n}}}}]),t}(o.default);t.Z=u},4537:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isSwupPlugin=!0}return n(e,[{key:"mount",value:function(){}},{key:"unmount",value:function(){}},{key:"_beforeMount",value:function(){}},{key:"_afterUnmount",value:function(){}}]),e}();t.default=r},9717:e=>{var t;window,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r,i=n(1),s=(r=i)&&r.__esModule?r:{default:r};e.exports=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=a(n(2)),o=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.name="SlideTheme",n.options=r({},{mainElement:"#swup",reversed:!1},e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"mount",value:function(){this.applyStyles(o.default),this.addClassName(this.options.mainElement,"main"),this.options.reversed&&document.documentElement.classList.add("swup-theme-reverse")}},{key:"unmount",value:function(){document.documentElement.classList.remove("swup-theme-reverse")}}]),t}(s.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._addedStyleElements=[],this._addedHTMLContent=[],this._classNameAddedToElements=[],this._addClassNameToElement=function(){t._classNameAddedToElements.forEach((function(e){Array.prototype.slice.call(document.querySelectorAll(e.selector)).forEach((function(t){t.classList.add("swup-transition-"+e.name)}))}))},this.isSwupPlugin=!0}return r(e,[{key:"_beforeMount",value:function(){this._originalAnimationSelectorOption=String(this.swup.options.animationSelector),this.swup.options.animationSelector='[class*="swup-transition-"]'}},{key:"_afterUnmount",value:function(){this.swup.options.animationSelector=this._originalAnimationSelectorOption,this._addedStyleElements.forEach((function(e){e.outerHTML="",e=null})),this._addedHTMLContent.forEach((function(e){e.outerHTML="",e=null})),this._classNameAddedToElements.forEach((function(e){Array.prototype.slice.call(document.querySelectorAll(e.selector)).forEach((function(e){e.className.split(" ").forEach((function(t){new RegExp("^swup-transition-").test(t)&&e.classList.remove(t)}))}))})),this.swup.off("contentReplaced",this._addClassNameToElement)}},{key:"mount",value:function(){}},{key:"unmount",value:function(){}},{key:"applyStyles",value:function(e){var t=document.head,n=document.createElement("style");n.setAttribute("data-swup-theme",""),n.appendChild(document.createTextNode(e)),this._addedStyleElements.push(n),t.prepend(n)}},{key:"applyHTML",value:function(e){var t=document.createElement("div");t.innerHTML=e,this._addedHTMLContent.push(t),document.body.appendChild(t)}},{key:"addClassName",value:function(e,t){this._classNameAddedToElements.push({selector:e,name:t}),this._addClassNameToElement(),this.swup.on("contentReplaced",this._addClassNameToElement)}}]),e}();t.default=i},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,".swup-transition-main {\n  opacity: 1;\n  transition: opacity 0.3s, transform 0.4s;\n  transform: translate3d(0, 0, 0);\n}\nhtml.is-animating .swup-transition-main {\n  opacity: 0;\n  transform: translate3d(0, -60px, 0);\n}\nhtml.is-animating.is-leaving .swup-transition-main {\n  opacity: 0;\n  transform: translate3d(0, 60px, 0);\n}\nhtml.is-animating.swup-theme-reverse .swup-transition-main {\n  opacity: 0;\n  transform: translate3d(0, 60px, 0);\n}\nhtml.is-animating.swup-theme-reverse.is-leaving .swup-transition-main {\n  opacity: 0;\n  transform: translate3d(0, -60px, 0);\n}\n",""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r=e[1]||"",i=e[3];if(!i)return r;if(t&&"function"==typeof btoa){var s=(n=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),o=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[r].concat(o).concat([s]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var s=this[i][0];null!=s&&(r[s]=!0)}for(i=0;i<e.length;i++){var o=e[i];null!=o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}}])},e.exports=t()},2192:(e,t,n)=>{"use strict";n.d(t,{x:()=>o});var r=n(6599),i=n(8205);function s(e){return e.keys().map((t=>function(e,t){const n=function(e){const t=(e.match(/^(?:\.\/)?(.+)(?:[_-]controller\..+?)$/)||[])[1];if(t)return t.replace(/_/g,"-").replace(/\//g,"--")}(t);if(n)return function(e,t){const n=e.default;if("function"==typeof n)return{identifier:t,controllerConstructor:n}}(e(t),n)}(e,t))).filter((e=>e))}function o(e){const t=r.Mx.start();e&&t.load(s(e));for(const e in i.Z)i.Z.hasOwnProperty(e)&&i.Z[e].then((n=>{t.register(e,n.default)}));return t}},7556:(e,t,n)=>{var r=n(7293);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},9320:(e,t,n)=>{"use strict";var r=n(1702),i=n(9190),s=n(2423).getWeakData,o=n(5787),a=n(9670),l=n(8554),c=n(111),u=n(408),d=n(2092),h=n(2597),p=n(9909),f=p.set,g=p.getterFor,m=d.find,v=d.findIndex,y=r([].splice),b=0,w=function(e){return e.frozen||(e.frozen=new O)},O=function(){this.entries=[]},E=function(e,t){return m(e.entries,(function(e){return e[0]===t}))};O.prototype={get:function(e){var t=E(this,e);if(t)return t[1]},has:function(e){return!!E(this,e)},set:function(e,t){var n=E(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=v(this.entries,(function(t){return t[0]===e}));return~t&&y(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){var d=e((function(e,i){o(e,p),f(e,{type:t,id:b++,frozen:void 0}),l(i)||u(i,e[r],{that:e,AS_ENTRIES:n})})),p=d.prototype,m=g(t),v=function(e,t,n){var r=m(e),i=s(a(t),!0);return!0===i?w(r).set(t,n):i[r.id]=n,e};return i(p,{delete:function(e){var t=m(this);if(!c(e))return!1;var n=s(e);return!0===n?w(t).delete(e):n&&h(n,t.id)&&delete n[t.id]},has:function(e){var t=m(this);if(!c(e))return!1;var n=s(e);return!0===n?w(t).has(e):n&&h(n,t.id)}}),i(p,n?{get:function(e){var t=m(this);if(c(e)){var n=s(e);return!0===n?w(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return v(this,e,t)}}:{add:function(e){return v(this,e,!0)}}),d}}},7710:(e,t,n)=>{"use strict";var r=n(2109),i=n(7854),s=n(1702),o=n(4705),a=n(8052),l=n(2423),c=n(408),u=n(5787),d=n(614),h=n(8554),p=n(111),f=n(7293),g=n(7072),m=n(8003),v=n(9587);e.exports=function(e,t,n){var y=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),w=y?"set":"add",O=i[e],E=O&&O.prototype,A=O,_={},k=function(e){var t=s(E[e]);a(E,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!p(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return b&&!p(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!p(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(o(e,!d(O)||!(b||E.forEach&&!f((function(){(new O).entries().next()})))))A=n.getConstructor(t,e,y,w),l.enable();else if(o(e,!0)){var S=new A,C=S[w](b?{}:-0,1)!=S,x=f((function(){S.has(1)})),T=g((function(e){new O(e)})),L=!b&&f((function(){for(var e=new O,t=5;t--;)e[w](t,t);return!e.has(-0)}));T||((A=t((function(e,t){u(e,E);var n=v(new O,e,A);return h(t)||c(t,n[w],{that:n,AS_ENTRIES:y}),n}))).prototype=E,E.constructor=A),(x||L)&&(k("delete"),k("has"),y&&k("get")),(L||C)&&k(w),b&&E.clear&&delete E.clear}return _[e]=A,r({global:!0,constructor:!0,forced:A!=O},_),m(A,e),b||n.setStrong(A,e,y),A}},4964:(e,t,n)=>{var r=n(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},9190:(e,t,n)=>{var r=n(8052);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},6677:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},7065:(e,t,n)=>{"use strict";var r=n(1702),i=n(9662),s=n(111),o=n(2597),a=n(206),l=n(4374),c=Function,u=r([].concat),d=r([].join),h={},p=function(e,t,n){if(!o(h,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";h[t]=c("C,a","return new C("+d(r,",")+")")}return h[t](e,n)};e.exports=l?c.bind:function(e){var t=i(this),n=t.prototype,r=a(arguments,1),o=function(){var n=u(r,a(arguments));return this instanceof o?p(t,n.length,n):t.apply(e,n)};return s(n)&&(o.prototype=n),o}},2423:(e,t,n)=>{var r=n(2109),i=n(1702),s=n(3501),o=n(111),a=n(2597),l=n(3070).f,c=n(8006),u=n(1156),d=n(2050),h=n(9711),p=n(6677),f=!1,g=h("meta"),m=0,v=function(e){l(e,g,{value:{objectID:"O"+m++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},f=!0;var e=c.f,t=i([].splice),n={};n[g]=1,e(n).length&&(c.f=function(n){for(var r=e(n),i=0,s=r.length;i<s;i++)if(r[i]===g){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,g)){if(!d(e))return"F";if(!t)return"E";v(e)}return e[g].objectID},getWeakData:function(e,t){if(!a(e,g)){if(!d(e))return!0;if(!t)return!1;v(e)}return e[g].weakData},onFreeze:function(e){return p&&f&&d(e)&&!a(e,g)&&v(e),e}};s[g]=!0},3929:(e,t,n)=>{var r=n(7850),i=TypeError;e.exports=function(e){if(r(e))throw i("The method doesn't accept regular expressions");return e}},1574:(e,t,n)=>{"use strict";var r=n(9781),i=n(1702),s=n(6916),o=n(7293),a=n(1956),l=n(5181),c=n(5296),u=n(7908),d=n(8361),h=Object.assign,p=Object.defineProperty,f=i([].concat);e.exports=!h||o((function(){if(r&&1!==h({b:1},h(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=h({},e)[n]||a(h({},t)).join("")!=i}))?function(e,t){for(var n=u(e),i=arguments.length,o=1,h=l.f,p=c.f;i>o;)for(var g,m=d(arguments[o++]),v=h?f(a(m),h(m)):a(m),y=v.length,b=0;y>b;)g=v[b++],r&&!s(p,m,g)||(n[g]=m[g]);return n}:h},2050:(e,t,n)=>{var r=n(7293),i=n(111),s=n(4326),o=n(7556),a=Object.isExtensible,l=r((function(){a(1)}));e.exports=l||o?function(e){return!!i(e)&&((!o||"ArrayBuffer"!=s(e))&&(!a||a(e)))}:a},863:(e,t,n)=>{var r=n(1702);e.exports=r(1..valueOf)},6699:(e,t,n)=>{"use strict";var r=n(2109),i=n(1318).includes,s=n(7293),o=n(1223);r({target:"Array",proto:!0,forced:s((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},4812:(e,t,n)=>{var r=n(2109),i=n(7065);r({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},9653:(e,t,n)=>{"use strict";var r=n(9781),i=n(7854),s=n(1702),o=n(4705),a=n(8052),l=n(2597),c=n(9587),u=n(7976),d=n(2190),h=n(7593),p=n(7293),f=n(8006).f,g=n(1236).f,m=n(3070).f,v=n(863),y=n(3111).trim,b="Number",w=i.Number,O=w.prototype,E=i.TypeError,A=s("".slice),_=s("".charCodeAt),k=function(e){var t=h(e,"number");return"bigint"==typeof t?t:S(t)},S=function(e){var t,n,r,i,s,o,a,l,c=h(e,"number");if(d(c))throw E("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=y(c),43===(t=_(c,0))||45===t){if(88===(n=_(c,2))||120===n)return NaN}else if(48===t){switch(_(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(o=(s=A(c,2)).length,a=0;a<o;a++)if((l=_(s,a))<48||l>i)return NaN;return parseInt(s,r)}return+c};if(o(b,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var C,x=function(e){var t=arguments.length<1?0:w(k(e)),n=this;return u(O,n)&&p((function(){v(n)}))?c(Object(t),n,x):t},T=r?f(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),L=0;T.length>L;L++)l(w,C=T[L])&&!l(x,C)&&m(x,C,g(w,C));x.prototype=O,O.constructor=x,a(i,b,x,{constructor:!0})}},9601:(e,t,n)=>{var r=n(2109),i=n(1574);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},489:(e,t,n)=>{var r=n(2109),i=n(7293),s=n(7908),o=n(9518),a=n(8544);r({target:"Object",stat:!0,forced:i((function(){o(1)})),sham:!a},{getPrototypeOf:function(e){return o(s(e))}})},8304:(e,t,n)=>{n(2109)({target:"Object",stat:!0},{setPrototypeOf:n(7674)})},2419:(e,t,n)=>{var r=n(2109),i=n(5005),s=n(2104),o=n(7065),a=n(9483),l=n(9670),c=n(111),u=n(30),d=n(7293),h=i("Reflect","construct"),p=Object.prototype,f=[].push,g=d((function(){function e(){}return!(h((function(){}),[],e)instanceof e)})),m=!d((function(){h((function(){}))})),v=g||m;r({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(e,t){a(e),l(t);var n=arguments.length<3?e:a(arguments[2]);if(m&&!g)return h(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return s(f,r,t),new(s(o,e,r))}var i=n.prototype,d=u(c(i)?i:p),v=s(e,d,t);return c(v)?v:d}})},2023:(e,t,n)=>{"use strict";var r=n(2109),i=n(1702),s=n(3929),o=n(4488),a=n(1340),l=n(4964),c=i("".indexOf);r({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~c(a(o(this)),a(s(e)),arguments.length>1?arguments[1]:void 0)}})},2098:(e,t,n)=>{"use strict";n(7710)("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(9320))},8478:(e,t,n)=>{n(2098)},3341:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t instanceof Element||t instanceof SVGElement?this.link=t:(this.link=document.createElement("a"),this.link.href=t)}return n(e,[{key:"getPath",value:function(){var e=this.link.pathname;return"/"!==e[0]&&(e="/"+e),e}},{key:"getAddress",value:function(){var e=this.link.pathname+this.link.search;return this.link.getAttribute("xlink:href")&&(e=this.link.getAttribute("xlink:href")),"/"!==e[0]&&(e="/"+e),e}},{key:"getHash",value:function(){return this.link.hash}}]),e}();t.default=r},9628:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.toString().toLowerCase().replace(/\s+/g,"-").replace(/\//g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");return"/"===t[0]&&(t=t.splice(1)),""===t&&(t="homepage"),t}},4563:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){document.documentElement.className.split(" ").forEach((function(e){(new RegExp("^to-").test(e)||"is-changing"===e||"is-rendering"===e||"is-popstate"===e)&&document.documentElement.classList.remove(e)}))}},7477:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){window.history.pushState({url:e||window.location.href.split(window.location.hostname)[1],random:Math.random(),source:"swup"},document.title,e||window.location.href.split(window.location.hostname)[1])}},47:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={url:window.location.pathname+window.location.search,method:"GET",data:null,headers:{}},i=n({},r,e),s=new XMLHttpRequest;return s.onreadystatechange=function(){4===s.readyState&&(s.status,t(s))},s.open(i.method,i.url,!0),Object.keys(i.headers).forEach((function(e){s.setRequestHeader(e,i.headers[e])})),s.send(i.data),s}},6213:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return window.location.pathname+window.location.search}},2502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(474);t.default=function(e,t){var n=document.createElement("html");n.innerHTML=e;var i=[];t.forEach((function(e){if(null==(0,r.query)(e,n))return console.warn("[swup] Container "+e+" not found on page."),null;(0,r.queryAll)(e).length!==(0,r.queryAll)(e,n).length&&console.warn("[swup] Mismatched number of containers found on new page."),(0,r.queryAll)(e).forEach((function(t,s){(0,r.queryAll)(e,n)[s].setAttribute("data-swup",i.length),i.push((0,r.queryAll)(e,n)[s].outerHTML)}))}));var s={title:(n.querySelector("title")||{}).innerText,pageClass:n.querySelector("body").className,originalContent:e,blocks:i};return n.innerHTML="",n=null,s}},7004:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanupAnimationClasses=t.Link=t.markSwupElements=t.normalizeUrl=t.getCurrentUrl=t.transitionProperty=t.transitionEnd=t.fetch=t.getDataFromHtml=t.createHistoryRecord=t.classify=void 0;var r=f(n(9628)),i=f(n(7477)),s=f(n(2502)),o=f(n(47)),a=f(n(4880)),l=f(n(7813)),c=f(n(6213)),u=f(n(7309)),d=f(n(2587)),h=f(n(3341)),p=f(n(4563));function f(e){return e&&e.__esModule?e:{default:e}}t.classify=r.default,t.createHistoryRecord=i.default,t.getDataFromHtml=s.default,t.fetch=o.default,t.transitionEnd=a.default,t.transitionProperty=l.default,t.getCurrentUrl=c.default,t.normalizeUrl=u.default,t.markSwupElements=d.default,t.Link=h.default,t.cleanupAnimationClasses=p.default},2587:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(474);t.default=function(e,t){var n=0;t.forEach((function(t){null==(0,r.query)(t,e)?console.warn("[swup] Container "+t+" not found on page."):(0,r.queryAll)(t).forEach((function(i,s){(0,r.queryAll)(t,e)[s].setAttribute("data-swup",n),n++}))}))}},7309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3341),s=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return new s.default(e).getAddress()}},4880:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend?"webkitTransitionEnd":"transitionend"}},7813:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend?"WebkitTransition":"transition"}},2593:(e,t,n)=>{"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=b(n(500)),o=b(n(331)),a=b(n(2275)),l=b(n(4666)),c=b(n(6198)),u=b(n(587)),d=b(n(6889)),h=b(n(1728)),p=b(n(4901)),f=b(n(578)),g=b(n(7315)),m=n(1582),v=n(474),y=n(7004);function b(e){return e&&e.__esModule?e:{default:e}}var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',linkSelector:'a[href^="'+window.location.origin+'"]:not([data-no-swup]), a[href^="/"]:not([data-no-swup]), a[href^="#"]:not([data-no-swup])',cache:!0,containers:["#swup"],requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},plugins:[],skipPopStateHandling:function(e){return!(e.state&&"swup"===e.state.source)}},i=r({},n,t);this._handlers={animationInDone:[],animationInStart:[],animationOutDone:[],animationOutStart:[],animationSkipped:[],clickLink:[],contentReplaced:[],disabled:[],enabled:[],openPageInNewTab:[],pageLoaded:[],pageRetrievedFromCache:[],pageView:[],popState:[],samePage:[],samePageWithHash:[],serverError:[],transitionStart:[],transitionEnd:[],willReplaceContent:[]},this.scrollToElement=null,this.preloadPromise=null,this.options=i,this.plugins=[],this.transition={},this.delegatedListeners={},this.boundPopStateHandler=this.popStateHandler.bind(this),this.cache=new o.default,this.cache.swup=this,this.loadPage=a.default,this.renderPage=l.default,this.triggerEvent=c.default,this.on=u.default,this.off=d.default,this.updateTransition=h.default,this.getAnimationPromises=f.default,this.getPageData=g.default,this.getAnchorElement=p.default,this.log=function(){},this.use=m.use,this.unuse=m.unuse,this.findPlugin=m.findPlugin,this.getCurrentUrl=y.getCurrentUrl,this.cleanupAnimationClasses=y.cleanupAnimationClasses,this.enable()}return i(e,[{key:"enable",value:function(){var e=this;"undefined"!=typeof Promise?(this.delegatedListeners.click=(0,s.default)(document,this.options.linkSelector,"click",this.linkClickHandler.bind(this)),window.addEventListener("popstate",this.boundPopStateHandler),this.options.cache,(0,y.markSwupElements)(document.documentElement,this.options.containers),this.options.plugins.forEach((function(t){e.use(t)})),window.history.replaceState(Object.assign({},window.history.state,{url:window.location.href,random:Math.random(),source:"swup"}),document.title,window.location.href),this.triggerEvent("enabled"),document.documentElement.classList.add("swup-enabled"),this.triggerEvent("pageView")):console.warn("Promise is not supported")}},{key:"destroy",value:function(){var e=this;this.delegatedListeners.click.destroy(),window.removeEventListener("popstate",this.boundPopStateHandler),this.cache.empty(),this.options.plugins.forEach((function(t){e.unuse(t)})),(0,v.queryAll)("[data-swup]").forEach((function(e){e.removeAttribute("data-swup")})),this.off(),this.triggerEvent("disabled"),document.documentElement.classList.remove("swup-enabled")}},{key:"linkClickHandler",value:function(e){if(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)this.triggerEvent("openPageInNewTab",e);else if(0===e.button){this.triggerEvent("clickLink",e),e.preventDefault();var t=new y.Link(e.delegateTarget);if(t.getAddress()==(0,y.getCurrentUrl)()||""==t.getAddress()){if(""!=t.getHash())this.triggerEvent("samePageWithHash",e),null!=(0,p.default)(t.getHash())?history.replaceState({url:t.getAddress()+t.getHash(),random:Math.random(),source:"swup"},document.title,t.getAddress()+t.getHash()):console.warn("Element for offset not found ("+t.getHash()+")");else this.triggerEvent("samePage",e)}else{""!=t.getHash()&&(this.scrollToElement=t.getHash());var n=e.delegateTarget.getAttribute("data-swup-transition");this.loadPage({url:t.getAddress(),customTransition:n},!1)}}}},{key:"popStateHandler",value:function(e){if(!this.options.skipPopStateHandling(e)){var t=new y.Link(e.state?e.state.url:window.location.pathname);""!==t.getHash()?this.scrollToElement=t.getHash():e.preventDefault(),this.triggerEvent("popState",e),this.options.animateHistoryBrowsing||(document.documentElement.classList.remove("is-animating"),(0,y.cleanupAnimationClasses)()),this.loadPage({url:t.getAddress()},e)}}}]),e}();t.Z=w},331:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cache=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7004);var s=t.Cache=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pages={},this.last=null}return r(e,[{key:"cacheUrl",value:function(e){e.url=(0,i.normalizeUrl)(e.url),e.url in this.pages==!1&&(this.pages[e.url]=e),this.last=this.pages[e.url],this.swup.log("Cache ("+Object.keys(this.pages).length+")",this.pages)}},{key:"getPage",value:function(e){return e=(0,i.normalizeUrl)(e),this.pages[e]}},{key:"getCurrentPage",value:function(){return this.getPage((0,i.getCurrentUrl)())}},{key:"exists",value:function(e){return(e=(0,i.normalizeUrl)(e))in this.pages}},{key:"empty",value:function(){this.pages={},this.last=null,this.swup.log("Cache cleared")}},{key:"remove",value:function(e){delete this.pages[e]}}]),e}();t.default=s},4901:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(474);t.default=function(e){return e?("#"===e.charAt(0)&&(e=e.substring(1)),e=decodeURIComponent(e),e=(0,r.escapeCssIdentifier)(e),(0,r.query)("#"+e)||(0,r.query)("a[name='"+e+"']")):null}},578:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(474),i=n(7004);t.default=function(){var e=this.options.animationSelector,t=(0,i.transitionProperty)()+"Duration",n=[],s=(0,r.queryAll)(e,document.body);return s.length?(s.forEach((function(r){var s=window.getComputedStyle(r)[t];if(!s||"0s"==s)return console.warn("[swup] No CSS transition duration defined for element of selector "+e),void n.push(Promise.resolve());var o=new Promise((function(e){r.addEventListener((0,i.transitionEnd)(),(function(t){r==t.target&&e()}))}));n.push(o)})),n):(console.warn("[swup] No animated elements found by selector "+e),[Promise.resolve()])}},7315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7004);t.default=function(e){var t=e.responseText,n=(0,r.getDataFromHtml)(t,this.options.containers);return n?(n.responseURL=e.responseURL?e.responseURL:window.location.href,n):(console.warn("[swup] Received page is invalid."),null)}},2275:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(7004);t.default=function(e,t){var n=this,o=[],a=void 0;this.triggerEvent("transitionStart",t),null!=e.customTransition?(this.updateTransition(window.location.pathname,e.url,e.customTransition),document.documentElement.classList.add("to-"+(0,s.classify)(e.customTransition))):this.updateTransition(window.location.pathname,e.url),!t||this.options.animateHistoryBrowsing?function(){if(n.triggerEvent("animationOutStart"),document.documentElement.classList.add("is-changing"),document.documentElement.classList.add("is-leaving"),document.documentElement.classList.add("is-animating"),t&&document.documentElement.classList.add("is-popstate"),document.documentElement.classList.add("to-"+(0,s.classify)(e.url)),o=n.getAnimationPromises("out"),Promise.all(o).then((function(){n.triggerEvent("animationOutDone")})),!t){var r=void 0;r=null!=n.scrollToElement?e.url+n.scrollToElement:e.url,(0,s.createHistoryRecord)(r)}}():this.triggerEvent("animationSkipped"),this.cache.exists(e.url)?(a=new Promise((function(t){t(n.cache.getPage(e.url))})),this.triggerEvent("pageRetrievedFromCache")):a=this.preloadPromise&&this.preloadPromise.route==e.url?this.preloadPromise:new Promise((function(t,r){(0,s.fetch)(i({},e,{headers:n.options.requestHeaders}),(function(i){if(500===i.status)return n.triggerEvent("serverError"),void r(e.url);var s=n.getPageData(i);null!=s&&s.blocks.length>0?(s.url=e.url,n.cache.cacheUrl(s),n.triggerEvent("pageLoaded"),t(s)):r(e.url)}))})),Promise.all([a].concat(o)).then((function(e){var i=r(e,1)[0];n.renderPage(i,t),n.preloadPromise=null})).catch((function(e){n.options.skipPopStateHandling=function(){return window.location=e,!0},window.history.go(-1)}))}},6889:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=this;if(null!=e)if(null!=t)if(this._handlers[e]&&this._handlers[e].filter((function(e){return e===t})).length){var r=this._handlers[e].filter((function(e){return e===t}))[0],i=this._handlers[e].indexOf(r);i>-1&&this._handlers[e].splice(i,1)}else console.warn("Handler for event '"+e+"' no found.");else this._handlers[e]=[];else Object.keys(this._handlers).forEach((function(e){n._handlers[e]=[]}))}},587:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){this._handlers[e]?this._handlers[e].push(t):console.warn("Unsupported event "+e+".")}},1582:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.use=function(e){if(e.isSwupPlugin)return this.plugins.push(e),e.swup=this,"function"==typeof e._beforeMount&&e._beforeMount(),e.mount(),this.plugins;console.warn("Not swup plugin instance "+e+".")},t.unuse=function(e){var t=void 0;if(t="string"==typeof e?this.plugins.find((function(t){return e===t.name})):e){t.unmount(),"function"==typeof t._afterUnmount&&t._afterUnmount();var n=this.plugins.indexOf(t);return this.plugins.splice(n,1),this.plugins}console.warn("No such plugin.")},t.findPlugin=function(e){return this.plugins.find((function(t){return e===t.name}))}},4666:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(7004);t.default=function(e,t){var n=this;if(document.documentElement.classList.remove("is-leaving"),this.getCurrentUrl()===e.url){var s=new i.Link(e.responseURL).getPath();window.location.pathname!==s&&(window.history.replaceState({url:s,random:Math.random(),source:"swup"},document.title,s),this.cache.cacheUrl(r({},e,{url:s}))),t&&!this.options.animateHistoryBrowsing||document.documentElement.classList.add("is-rendering"),this.triggerEvent("willReplaceContent",t);for(var o=0;o<e.blocks.length;o++)document.body.querySelector('[data-swup="'+o+'"]').outerHTML=e.blocks[o];if(document.title=e.title,this.triggerEvent("contentReplaced",t),this.triggerEvent("pageView",t),this.options.cache||this.cache.empty(),setTimeout((function(){t&&!n.options.animateHistoryBrowsing||(n.triggerEvent("animationInStart"),document.documentElement.classList.remove("is-animating"))}),10),!t||this.options.animateHistoryBrowsing){var a=this.getAnimationPromises("in");Promise.all(a).then((function(){n.triggerEvent("animationInDone"),n.triggerEvent("transitionEnd",t),n.cleanupAnimationClasses()}))}else this.triggerEvent("transitionEnd",t);this.scrollToElement=null}}},6198:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){this._handlers[e].forEach((function(e){try{e(t)}catch(e){console.error(e)}}));var n=new CustomEvent("swup:"+e,{detail:e});document.dispatchEvent(n)}},1728:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){this.transition={from:e,to:t,custom:n}}},474:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.query=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"!=typeof e?e:t.querySelector(e)},t.queryAll=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"!=typeof e?e:Array.prototype.slice.call(t.querySelectorAll(e))},t.escapeCssIdentifier=function(e){return window.CSS&&window.CSS.escape?CSS.escape(e):e}},9688:(e,t,n)=>{var r,i,s;s=function(){return function(n){var r=n.querySelectorAll(".tab"),i=n.querySelectorAll(".tab-pane");function s(n,r){e(n,(function(e,n){var i,s;e!=r?function(e,n){if(t(e,n)){var r=new RegExp("(\\s|^)"+n+"(\\s|$)");e.className=e.className.replace(r,"")}}(n,"active"):t(i=n,s="active")||(i.className+=" "+s)}))}e(r,(function(e,t){t.addEventListener("click",(function(t){s(r,e),s(i,e)}))}))};function e(e,t){for(var n=e.length-1;n>=0;n--)t(n,e[n])}function t(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}},e.exports?e.exports=s():void 0===(i="function"==typeof(r=s)?r.call(t,n,t,e):r)||(e.exports=i)},4183:function(e){e.exports=function(){"use strict";function e(e,t){e.split(/\s+/).forEach((e=>{t(e)}))}class t{constructor(){this._events=void 0,this._events={}}on(t,n){e(t,(e=>{const t=this._events[e]||[];t.push(n),this._events[e]=t}))}off(t,n){var r=arguments.length;0!==r?e(t,(e=>{if(1===r)return void delete this._events[e];const t=this._events[e];void 0!==t&&(t.splice(t.indexOf(n),1),this._events[e]=t)})):this._events={}}trigger(t,...n){var r=this;e(t,(e=>{const t=r._events[e];void 0!==t&&t.forEach((e=>{e.apply(r,n)}))}))}}function n(e){return e.plugins={},class extends e{constructor(...e){super(...e),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(t,n){e.plugins[t]={name:t,fn:n}}initializePlugins(e){var t,n;const r=this,i=[];if(Array.isArray(e))e.forEach((e=>{"string"==typeof e?i.push(e):(r.plugins.settings[e.name]=e.options,i.push(e.name))}));else if(e)for(t in e)e.hasOwnProperty(t)&&(r.plugins.settings[t]=e[t],i.push(t));for(;n=i.shift();)r.require(n)}loadPlugin(t){var n=this,r=n.plugins,i=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');r.requested[t]=!0,r.loaded[t]=i.fn.apply(n,[n.plugins.settings[t]||{}]),r.names.push(t)}require(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]}}}const r=e=>(e=e.filter(Boolean)).length<2?e[0]||"":1==l(e)?"["+e.join("")+"]":"(?:"+e.join("|")+")",i=e=>{if(!o(e))return e.join("");let t="",n=0;const r=()=>{n>1&&(t+="{"+n+"}")};return e.forEach(((i,s)=>{i!==e[s-1]?(r(),t+=i,n=1):n++})),r(),t},s=e=>{let t=u(e);return r(t)},o=e=>new Set(e).size!==e.length,a=e=>(e+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),l=e=>e.reduce(((e,t)=>Math.max(e,c(t))),0),c=e=>u(e).length,u=e=>Array.from(e),d=e=>{if(1===e.length)return[[e]];let t=[];const n=e.substring(1);return d(n).forEach((function(n){let r=n.slice(0);r[0]=e.charAt(0)+r[0],t.push(r),r=n.slice(0),r.unshift(e.charAt(0)),t.push(r)})),t},h=[[0,65535]],p="[-]";let f,g;const m=3,v={},y={"/":"",0:"",a:"",aa:"",ae:"",ao:"",au:"",av:"",ay:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",oe:"",oi:"",oo:"",ou:"",p:"",q:"",r:"",s:"",t:"",th:"",tz:"",u:"",v:"",vy:"",w:"",y:"",z:"",hv:""};for(let e in y){let t=y[e]||"";for(let n=0;n<t.length;n++){let r=t.substring(n,n+1);v[r]=e}}const b=new RegExp(Object.keys(v).join("|")+"|"+p,"gu"),w=e=>{void 0===f&&(f=S(e||h))},O=(e,t="NFKD")=>e.normalize(t),E=e=>u(e).reduce(((e,t)=>e+A(t)),""),A=e=>(e=O(e).toLowerCase().replace(b,(e=>v[e]||"")),O(e,"NFC"));function*_(e){for(const[t,n]of e)for(let e=t;e<=n;e++){let t=String.fromCharCode(e),n=E(t);n!=t.toLowerCase()&&(n.length>m||0!=n.length&&(yield{folded:n,composed:t,code_point:e}))}}const k=e=>{const t={},n=(e,n)=>{const r=t[e]||new Set,i=new RegExp("^"+s(r)+"$","iu");n.match(i)||(r.add(a(n)),t[e]=r)};for(let t of _(e))n(t.folded,t.folded),n(t.folded,t.composed);return t},S=e=>{const t=k(e),n={};let i=[];for(let e in t){let r=t[e];r&&(n[e]=s(r)),e.length>1&&i.push(a(e))}i.sort(((e,t)=>t.length-e.length));const o=r(i);return g=new RegExp("^"+o,"u"),n},C=(e,t=1)=>{let n=0;return e=e.map((e=>(f[e]&&(n+=e.length),f[e]||e))),n>=t?i(e):""},x=(e,t=1)=>(t=Math.max(t,e.length-1),r(d(e).map((e=>C(e,t))))),T=(e,t=!0)=>{let n=e.length>1?1:0;return r(e.map((e=>{let r=[];const s=t?e.length():e.length()-1;for(let t=0;t<s;t++)r.push(x(e.substrs[t]||"",n));return i(r)})))},L=(e,t)=>{for(const n of t){if(n.start!=e.start||n.end!=e.end)continue;if(n.substrs.join("")!==e.substrs.join(""))continue;let t=e.parts;const r=e=>{for(const n of t){if(n.start===e.start&&n.substr===e.substr)return!1;if(1!=e.length&&1!=n.length){if(e.start<n.start&&e.end>n.start)return!0;if(n.start<e.start&&n.end>e.start)return!0}}return!1};if(!(n.parts.filter(r).length>0))return!0}return!1};class I{constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(e){e&&(this.parts.push(e),this.substrs.push(e.substr),this.start=Math.min(e.start,this.start),this.end=Math.max(e.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(e,t){let n=new I,r=JSON.parse(JSON.stringify(this.parts)),i=r.pop();for(const e of r)n.add(e);let s=t.substr.substring(0,e-i.start),o=s.length;return n.add({start:i.start,end:i.start+o,length:o,substr:s}),n}}const P=e=>{w(),e=E(e);let t="",n=[new I];for(let r=0;r<e.length;r++){let i=e.substring(r).match(g);const s=e.substring(r,r+1),o=i?i[0]:null;let a=[],l=new Set;for(const e of n){const t=e.last();if(!t||1==t.length||t.end<=r)if(o){const t=o.length;e.add({start:r,end:r+t,length:t,substr:o}),l.add("1")}else e.add({start:r,end:r+1,length:1,substr:s}),l.add("2");else if(o){let n=e.clone(r,t);const i=o.length;n.add({start:r,end:r+i,length:i,substr:o}),a.push(n)}else l.add("3")}if(a.length>0){a=a.sort(((e,t)=>e.length()-t.length()));for(let e of a)L(e,n)||n.push(e)}else if(r>0&&1==l.size&&!l.has("3")){t+=T(n,!1);let e=new I;const r=n[0];r&&e.add(r.last()),n=[e]}}return t+=T(n,!0),t},M=(e,t)=>{if(e)return e[t]},j=(e,t)=>{if(e){for(var n,r=t.split(".");(n=r.shift())&&(e=e[n]););return e}},F=(e,t,n)=>{var r,i;return e?(e+="",null==t.regex||-1===(i=e.search(t.regex))?0:(r=t.string.length/e.length,0===i&&(r+=.5),r*n)):0},N=(e,t)=>{var n=e[t];if("function"==typeof n)return n;n&&!Array.isArray(n)&&(e[t]=[n])},D=(e,t)=>{if(Array.isArray(e))e.forEach(t);else for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},B=(e,t)=>"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=E(e+"").toLowerCase())>(t=E(t+"").toLowerCase())?1:t>e?-1:0;class V{constructor(e,t){this.items=void 0,this.settings=void 0,this.items=e,this.settings=t||{diacritics:!0}}tokenize(e,t,n){if(!e||!e.length)return[];const r=[],i=e.split(/\s+/);var s;return n&&(s=new RegExp("^("+Object.keys(n).map(a).join("|")+"):(.*)$")),i.forEach((e=>{let n,i=null,o=null;s&&(n=e.match(s))&&(i=n[1],e=n[2]),e.length>0&&(o=this.settings.diacritics?P(e)||null:a(e),o&&t&&(o="\\b"+o)),r.push({string:e,regex:o?new RegExp(o,"iu"):null,field:i})})),r}getScoreFunction(e,t){var n=this.prepareSearch(e,t);return this._getScoreFunction(n)}_getScoreFunction(e){const t=e.tokens,n=t.length;if(!n)return function(){return 0};const r=e.options.fields,i=e.weights,s=r.length,o=e.getAttrFn;if(!s)return function(){return 1};const a=1===s?function(e,t){const n=r[0].field;return F(o(t,n),e,i[n]||1)}:function(e,t){var n=0;if(e.field){const r=o(t,e.field);!e.regex&&r?n+=1/s:n+=F(r,e,1)}else D(i,((r,i)=>{n+=F(o(t,i),e,r)}));return n/s};return 1===n?function(e){return a(t[0],e)}:"and"===e.options.conjunction?function(e){var r,i=0;for(let n of t){if((r=a(n,e))<=0)return 0;i+=r}return i/n}:function(e){var r=0;return D(t,(t=>{r+=a(t,e)})),r/n}}getSortFunction(e,t){var n=this.prepareSearch(e,t);return this._getSortFunction(n)}_getSortFunction(e){var t,n=[];const r=this,i=e.options,s=!e.query&&i.sort_empty?i.sort_empty:i.sort;if("function"==typeof s)return s.bind(this);const o=function(t,n){return"$score"===t?n.score:e.getAttrFn(r.items[n.id],t)};if(s)for(let t of s)(e.query||"$score"!==t.field)&&n.push(t);if(e.query){t=!0;for(let e of n)if("$score"===e.field){t=!1;break}t&&n.unshift({field:"$score",direction:"desc"})}else n=n.filter((e=>"$score"!==e.field));return n.length?function(e,t){var r,i;for(let s of n)if(i=s.field,r=("desc"===s.direction?-1:1)*B(o(i,e),o(i,t)))return r;return 0}:null}prepareSearch(e,t){const n={};var r=Object.assign({},t);if(N(r,"sort"),N(r,"sort_empty"),r.fields){N(r,"fields");const e=[];r.fields.forEach((t=>{"string"==typeof t&&(t={field:t,weight:1}),e.push(t),n[t.field]="weight"in t?t.weight:1})),r.fields=e}return{options:r,query:e.toLowerCase().trim(),tokens:this.tokenize(e,r.respect_word_boundaries,n),total:0,items:[],weights:n,getAttrFn:r.nesting?j:M}}search(e,t){var n,r,i=this;r=this.prepareSearch(e,t),t=r.options,e=r.query;const s=t.score||i._getScoreFunction(r);e.length?D(i.items,((e,i)=>{n=s(e),(!1===t.filter||n>0)&&r.items.push({score:n,id:i})})):D(i.items,((e,t)=>{r.items.push({score:1,id:t})}));const o=i._getSortFunction(r);return o&&r.items.sort(o),r.total=r.items.length,"number"==typeof t.limit&&(r.items=r.items.slice(0,t.limit)),r}}const R=(e,t)=>{if(Array.isArray(e))e.forEach(t);else for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},H=e=>{if(e.jquery)return e[0];if(e instanceof HTMLElement)return e;if(K(e)){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild}return document.querySelector(e)},K=e=>"string"==typeof e&&e.indexOf("<")>-1,q=e=>e.replace(/['"\\]/g,"\\$&"),U=(e,t)=>{var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!1),e.dispatchEvent(n)},z=(e,t)=>{Object.assign(e.style,t)},G=(e,...t)=>{var n=Q(t);(e=J(e)).map((e=>{n.map((t=>{e.classList.add(t)}))}))},W=(e,...t)=>{var n=Q(t);(e=J(e)).map((e=>{n.map((t=>{e.classList.remove(t)}))}))},Q=e=>{var t=[];return R(e,(e=>{"string"==typeof e&&(e=e.trim().split(/[\11\12\14\15\40]/)),Array.isArray(e)&&(t=t.concat(e))})),t.filter(Boolean)},J=e=>(Array.isArray(e)||(e=[e]),e),Z=(e,t,n)=>{if(!n||n.contains(e))for(;e&&e.matches;){if(e.matches(t))return e;e=e.parentNode}},X=(e,t=0)=>t>0?e[e.length-1]:e[0],Y=e=>0===Object.keys(e).length,ee=(e,t)=>{if(!e)return-1;t=t||e.nodeName;for(var n=0;e=e.previousElementSibling;)e.matches(t)&&n++;return n},te=(e,t)=>{R(t,((t,n)=>{null==t?e.removeAttribute(n):e.setAttribute(n,""+t)}))},ne=(e,t)=>{e.parentNode&&e.parentNode.replaceChild(t,e)},re=(e,t)=>{if(null===t)return;if("string"==typeof t){if(!t.length)return;t=new RegExp(t,"i")}const n=e=>{var n=e.data.match(t);if(n&&e.data.length>0){var r=document.createElement("span");r.className="highlight";var i=e.splitText(n.index);i.splitText(n[0].length);var s=i.cloneNode(!0);return r.appendChild(s),ne(i,r),1}return 0},r=e=>{1!==e.nodeType||!e.childNodes||/(script|style)/i.test(e.tagName)||"highlight"===e.className&&"SPAN"===e.tagName||Array.from(e.childNodes).forEach((e=>{i(e)}))},i=e=>3===e.nodeType?n(e):(r(e),0);i(e)},ie=e=>{var t=e.querySelectorAll("span.highlight");Array.prototype.forEach.call(t,(function(e){var t=e.parentNode;t.replaceChild(e.firstChild,e),t.normalize()}))},se=65,oe=13,ae=27,le=37,ce=38,ue=39,de=40,he=8,pe=46,fe=9,ge="undefined"!=typeof navigator&&/Mac/.test(navigator.userAgent)?"metaKey":"ctrlKey";var me={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(e){return e.length>0},render:{}};const ve=e=>null==e?null:ye(e),ye=e=>"boolean"==typeof e?e?"1":"0":e+"",be=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),we=(e,t)=>{var n;return function(r,i){var s=this;n&&(s.loading=Math.max(s.loading-1,0),clearTimeout(n)),n=setTimeout((function(){n=null,s.loadedSearches[r]=!0,e.call(s,r,i)}),t)}},Oe=(e,t,n)=>{var r,i=e.trigger,s={};for(r of(e.trigger=function(){var n=arguments[0];if(-1===t.indexOf(n))return i.apply(e,arguments);s[n]=arguments},n.apply(e,[]),e.trigger=i,t))r in s&&i.apply(e,s[r])},Ee=e=>({start:e.selectionStart||0,length:(e.selectionEnd||0)-(e.selectionStart||0)}),Ae=(e,t=!1)=>{e&&(e.preventDefault(),t&&e.stopPropagation())},_e=(e,t,n,r)=>{e.addEventListener(t,n,r)},ke=(e,t)=>!!t&&!!t[e]&&1==(t.altKey?1:0)+(t.ctrlKey?1:0)+(t.shiftKey?1:0)+(t.metaKey?1:0),Se=(e,t)=>{const n=e.getAttribute("id");return n||(e.setAttribute("id",t),t)},Ce=e=>e.replace(/[\\"']/g,"\\$&"),xe=(e,t)=>{t&&e.append(t)};function Te(e,t){var n=Object.assign({},me,t),r=n.dataAttr,i=n.labelField,s=n.valueField,o=n.disabledField,a=n.optgroupField,l=n.optgroupLabelField,c=n.optgroupValueField,u=e.tagName.toLowerCase(),d=e.getAttribute("placeholder")||e.getAttribute("data-placeholder");if(!d&&!n.allowEmptyOption){let t=e.querySelector('option[value=""]');t&&(d=t.textContent)}var h,p,f,g,m,v,y,b={placeholder:d,options:[],optgroups:[],items:[],maxItems:null},w=()=>{const t=e.getAttribute(r);if(t)b.options=JSON.parse(t),R(b.options,(e=>{b.items.push(e[s])}));else{var o=e.value.trim()||"";if(!n.allowEmptyOption&&!o.length)return;const t=o.split(n.delimiter);R(t,(e=>{const t={};t[i]=e,t[s]=e,b.options.push(t)})),b.items=t}};return"select"===u?(p=b.options,f={},g=1,m=e=>{var t=Object.assign({},e.dataset),n=r&&t[r];return"string"==typeof n&&n.length&&(t=Object.assign(t,JSON.parse(n))),t},v=(e,t)=>{var r=ve(e.value);if(null!=r&&(r||n.allowEmptyOption)){if(f.hasOwnProperty(r)){if(t){var l=f[r][a];l?Array.isArray(l)?l.push(t):f[r][a]=[l,t]:f[r][a]=t}}else{var c=m(e);c[i]=c[i]||e.textContent,c[s]=c[s]||r,c[o]=c[o]||e.disabled,c[a]=c[a]||t,c.$option=e,f[r]=c,p.push(c)}e.selected&&b.items.push(r)}},y=e=>{var t,n;(n=m(e))[l]=n[l]||e.getAttribute("label")||"",n[c]=n[c]||g++,n[o]=n[o]||e.disabled,b.optgroups.push(n),t=n[c],R(e.children,(e=>{v(e,t)}))},b.maxItems=e.hasAttribute("multiple")?null:1,R(e.children,(e=>{"optgroup"===(h=e.tagName.toLowerCase())?y(e):"option"===h&&v(e)}))):w(),Object.assign({},me,b,t)}var Le=0;class Ie extends(n(t)){constructor(e,t){var n;super(),this.control_input=void 0,this.wrapper=void 0,this.dropdown=void 0,this.control=void 0,this.dropdown_content=void 0,this.focus_node=void 0,this.order=0,this.settings=void 0,this.input=void 0,this.tabIndex=void 0,this.is_select_tag=void 0,this.rtl=void 0,this.inputId=void 0,this._destroy=void 0,this.sifter=void 0,this.isOpen=!1,this.isDisabled=!1,this.isRequired=void 0,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.currentResults=void 0,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],Le++;var r=H(e);if(r.tomselect)throw new Error("Tom Select already initialized on this element");r.tomselect=this,n=(window.getComputedStyle&&window.getComputedStyle(r,null)).getPropertyValue("direction");const i=Te(r,t);this.settings=i,this.input=r,this.tabIndex=r.tabIndex||0,this.is_select_tag="select"===r.tagName.toLowerCase(),this.rtl=/rtl/i.test(n),this.inputId=Se(r,"tomselect-"+Le),this.isRequired=r.required,this.sifter=new V(this.options,{diacritics:i.diacritics}),i.mode=i.mode||(1===i.maxItems?"single":"multi"),"boolean"!=typeof i.hideSelected&&(i.hideSelected="multi"===i.mode),"boolean"!=typeof i.hidePlaceholder&&(i.hidePlaceholder="multi"!==i.mode);var s=i.createFilter;"function"!=typeof s&&("string"==typeof s&&(s=new RegExp(s)),s instanceof RegExp?i.createFilter=e=>s.test(e):i.createFilter=e=>this.settings.duplicates||!this.options[e]),this.initializePlugins(i.plugins),this.setupCallbacks(),this.setupTemplates();const o=H("<div>"),a=H("<div>"),l=this._render("dropdown"),c=H('<div role="listbox" tabindex="-1">'),u=this.input.getAttribute("class")||"",d=i.mode;var h;G(o,i.wrapperClass,u,d),G(a,i.controlClass),xe(o,a),G(l,i.dropdownClass,d),i.copyClassesToDropdown&&G(l,u),G(c,i.dropdownContentClass),xe(l,c),H(i.dropdownParent||o).appendChild(l),K(i.controlInput)?(h=H(i.controlInput),D(["autocorrect","autocapitalize","autocomplete"],(e=>{r.getAttribute(e)&&te(h,{[e]:r.getAttribute(e)})})),h.tabIndex=-1,a.appendChild(h),this.focus_node=h):i.controlInput?(h=H(i.controlInput),this.focus_node=h):(h=H("<input/>"),this.focus_node=a),this.wrapper=o,this.dropdown=l,this.dropdown_content=c,this.control=a,this.control_input=h,this.setup()}setup(){const e=this,t=e.settings,n=e.control_input,r=e.dropdown,i=e.dropdown_content,s=e.wrapper,o=e.control,l=e.input,c=e.focus_node,u={passive:!0},d=e.inputId+"-ts-dropdown";te(i,{id:d}),te(c,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":d});const h=Se(c,e.inputId+"-ts-control"),p="label[for='"+q(e.inputId)+"']",f=document.querySelector(p),g=e.focus.bind(e);if(f){_e(f,"click",g),te(f,{for:h});const t=Se(f,e.inputId+"-ts-label");te(c,{"aria-labelledby":t}),te(i,{"aria-labelledby":t})}if(s.style.width=l.style.width,e.plugins.names.length){const t="plugin-"+e.plugins.names.join(" plugin-");G([s,r],t)}(null===t.maxItems||t.maxItems>1)&&e.is_select_tag&&te(l,{multiple:"multiple"}),t.placeholder&&te(n,{placeholder:t.placeholder}),!t.splitOn&&t.delimiter&&(t.splitOn=new RegExp("\\s*"+a(t.delimiter)+"+\\s*")),t.load&&t.loadThrottle&&(t.load=we(t.load,t.loadThrottle)),e.control_input.type=l.type,_e(r,"mousemove",(()=>{e.ignoreHover=!1})),_e(r,"mouseenter",(t=>{var n=Z(t.target,"[data-selectable]",r);n&&e.onOptionHover(t,n)}),{capture:!0}),_e(r,"click",(t=>{const n=Z(t.target,"[data-selectable]");n&&(e.onOptionSelect(t,n),Ae(t,!0))})),_e(o,"click",(t=>{var r=Z(t.target,"[data-ts-item]",o);r&&e.onItemSelect(t,r)?Ae(t,!0):""==n.value&&(e.onClick(),Ae(t,!0))})),_e(c,"keydown",(t=>e.onKeyDown(t))),_e(n,"keypress",(t=>e.onKeyPress(t))),_e(n,"input",(t=>e.onInput(t))),_e(c,"blur",(t=>e.onBlur(t))),_e(c,"focus",(t=>e.onFocus(t))),_e(n,"paste",(t=>e.onPaste(t)));const m=t=>{const i=t.composedPath()[0];if(!s.contains(i)&&!r.contains(i))return e.isFocused&&e.blur(),void e.inputState();i==n&&e.isOpen?t.stopPropagation():Ae(t,!0)},v=()=>{e.isOpen&&e.positionDropdown()};_e(document,"mousedown",m),_e(window,"scroll",v,u),_e(window,"resize",v,u),this._destroy=()=>{document.removeEventListener("mousedown",m),window.removeEventListener("scroll",v),window.removeEventListener("resize",v),f&&f.removeEventListener("click",g)},this.revertSettings={innerHTML:l.innerHTML,tabIndex:l.tabIndex},l.tabIndex=-1,l.insertAdjacentElement("afterend",e.wrapper),e.sync(!1),t.items=[],delete t.optgroups,delete t.options,_e(l,"invalid",(()=>{e.isValid&&(e.isValid=!1,e.isInvalid=!0,e.refreshState())})),e.updateOriginalInput(),e.refreshItems(),e.close(!1),e.inputState(),e.isSetup=!0,l.disabled?e.disable():e.enable(),e.on("change",this.onChange),G(l,"tomselected","ts-hidden-accessible"),e.trigger("initialize"),!0===t.preload&&e.preload()}setupOptions(e=[],t=[]){this.addOptions(e),D(t,(e=>{this.registerOptionGroup(e)}))}setupTemplates(){var e=this,t=e.settings.labelField,n=e.settings.optgroupLabelField,r={optgroup:e=>{let t=document.createElement("div");return t.className="optgroup",t.appendChild(e.options),t},optgroup_header:(e,t)=>'<div class="optgroup-header">'+t(e[n])+"</div>",option:(e,n)=>"<div>"+n(e[t])+"</div>",item:(e,n)=>"<div>"+n(e[t])+"</div>",option_create:(e,t)=>'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};e.settings.render=Object.assign({},r,e.settings.render)}setupCallbacks(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)(t=this.settings[n[e]])&&this.on(e,t)}sync(e=!0){const t=this,n=e?Te(t.input,{delimiter:t.settings.delimiter}):t.settings;t.setupOptions(n.options,n.optgroups),t.setValue(n.items||[],!0),t.lastQuery=null}onClick(){var e=this;if(e.activeItems.length>0)return e.clearActiveItems(),void e.focus();e.isFocused&&e.isOpen?e.blur():e.focus()}onMouseDown(){}onChange(){U(this.input,"input"),U(this.input,"change")}onPaste(e){var t=this;t.isInputHidden||t.isLocked?Ae(e):t.settings.splitOn&&setTimeout((()=>{var e=t.inputValue();if(e.match(t.settings.splitOn)){var n=e.trim().split(t.settings.splitOn);D(n,(e=>{ve(e)&&(this.options[e]?t.addItem(e):t.createItem(e))}))}}),0)}onKeyPress(e){var t=this;if(!t.isLocked){var n=String.fromCharCode(e.keyCode||e.which);return t.settings.create&&"multi"===t.settings.mode&&n===t.settings.delimiter?(t.createItem(),void Ae(e)):void 0}Ae(e)}onKeyDown(e){var t=this;if(t.ignoreHover=!0,t.isLocked)e.keyCode!==fe&&Ae(e);else{switch(e.keyCode){case se:if(ke(ge,e)&&""==t.control_input.value)return Ae(e),void t.selectAll();break;case ae:return t.isOpen&&(Ae(e,!0),t.close()),void t.clearActiveItems();case de:if(!t.isOpen&&t.hasOptions)t.open();else if(t.activeOption){let e=t.getAdjacent(t.activeOption,1);e&&t.setActiveOption(e)}return void Ae(e);case ce:if(t.activeOption){let e=t.getAdjacent(t.activeOption,-1);e&&t.setActiveOption(e)}return void Ae(e);case oe:return void(t.canSelect(t.activeOption)?(t.onOptionSelect(e,t.activeOption),Ae(e)):(t.settings.create&&t.createItem()||document.activeElement==t.control_input&&t.isOpen)&&Ae(e));case le:return void t.advanceSelection(-1,e);case ue:return void t.advanceSelection(1,e);case fe:return void(t.settings.selectOnTab&&(t.canSelect(t.activeOption)&&(t.onOptionSelect(e,t.activeOption),Ae(e)),t.settings.create&&t.createItem()&&Ae(e)));case he:case pe:return void t.deleteSelection(e)}t.isInputHidden&&!ke(ge,e)&&Ae(e)}}onInput(e){var t=this;if(!t.isLocked){var n=t.inputValue();t.lastValue!==n&&(t.lastValue=n,t.settings.shouldLoad.call(t,n)&&t.load(n),t.refreshOptions(),t.trigger("type",n))}}onOptionHover(e,t){this.ignoreHover||this.setActiveOption(t,!1)}onFocus(e){var t=this,n=t.isFocused;if(t.isDisabled)return t.blur(),void Ae(e);t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.preload(),n||t.trigger("focus"),t.activeItems.length||(t.showInput(),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())}onBlur(e){if(!1!==document.hasFocus()){var t=this;if(t.isFocused){t.isFocused=!1,t.ignoreFocus=!1;var n=()=>{t.close(),t.setActiveItem(),t.setCaret(t.items.length),t.trigger("blur")};t.settings.create&&t.settings.createOnBlur?t.createItem(null,n):n()}}}onOptionSelect(e,t){var n,r=this;t.parentElement&&t.parentElement.matches("[data-disabled]")||(t.classList.contains("create")?r.createItem(null,(()=>{r.settings.closeAfterSelect&&r.close()})):void 0!==(n=t.dataset.value)&&(r.lastQuery=null,r.addItem(n),r.settings.closeAfterSelect&&r.close(),!r.settings.hideSelected&&e.type&&/click/.test(e.type)&&r.setActiveOption(t)))}canSelect(e){return!!(this.isOpen&&e&&this.dropdown_content.contains(e))}onItemSelect(e,t){var n=this;return!n.isLocked&&"multi"===n.settings.mode&&(Ae(e),n.setActiveItem(t,e),!0)}canLoad(e){return!!this.settings.load&&!this.loadedSearches.hasOwnProperty(e)}load(e){const t=this;if(!t.canLoad(e))return;G(t.wrapper,t.settings.loadingClass),t.loading++;const n=t.loadCallback.bind(t);t.settings.load.call(t,e,n)}loadCallback(e,t){const n=this;n.loading=Math.max(n.loading-1,0),n.lastQuery=null,n.clearActiveOption(),n.setupOptions(e,t),n.refreshOptions(n.isFocused&&!n.isInputHidden),n.loading||W(n.wrapper,n.settings.loadingClass),n.trigger("load",e,t)}preload(){var e=this.wrapper.classList;e.contains("preloaded")||(e.add("preloaded"),this.load(""))}setTextboxValue(e=""){var t=this.control_input;t.value!==e&&(t.value=e,U(t,"update"),this.lastValue=e)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(e,t){Oe(this,t?[]:["change"],(()=>{this.clear(t),this.addItems(e,t)}))}setMaxItems(e){0===e&&(e=null),this.settings.maxItems=e,this.refreshState()}setActiveItem(e,t){var n,r,i,s,o,a,l=this;if("single"!==l.settings.mode){if(!e)return l.clearActiveItems(),void(l.isFocused&&l.showInput());if("click"===(n=t&&t.type.toLowerCase())&&ke("shiftKey",t)&&l.activeItems.length){for(a=l.getLastActive(),(i=Array.prototype.indexOf.call(l.control.children,a))>(s=Array.prototype.indexOf.call(l.control.children,e))&&(o=i,i=s,s=o),r=i;r<=s;r++)e=l.control.children[r],-1===l.activeItems.indexOf(e)&&l.setActiveItemClass(e);Ae(t)}else"click"===n&&ke(ge,t)||"keydown"===n&&ke("shiftKey",t)?e.classList.contains("active")?l.removeActiveItem(e):l.setActiveItemClass(e):(l.clearActiveItems(),l.setActiveItemClass(e));l.hideInput(),l.isFocused||l.focus()}}setActiveItemClass(e){const t=this,n=t.control.querySelector(".last-active");n&&W(n,"last-active"),G(e,"active last-active"),t.trigger("item_select",e),-1==t.activeItems.indexOf(e)&&t.activeItems.push(e)}removeActiveItem(e){var t=this.activeItems.indexOf(e);this.activeItems.splice(t,1),W(e,"active")}clearActiveItems(){W(this.activeItems,"active"),this.activeItems=[]}setActiveOption(e,t=!0){e!==this.activeOption&&(this.clearActiveOption(),e&&(this.activeOption=e,te(this.focus_node,{"aria-activedescendant":e.getAttribute("id")}),te(e,{"aria-selected":"true"}),G(e,"active"),t&&this.scrollToOption(e)))}scrollToOption(e,t){if(!e)return;const n=this.dropdown_content,r=n.clientHeight,i=n.scrollTop||0,s=e.offsetHeight,o=e.getBoundingClientRect().top-n.getBoundingClientRect().top+i;o+s>r+i?this.scroll(o-r+s,t):o<i&&this.scroll(o,t)}scroll(e,t){const n=this.dropdown_content;t&&(n.style.scrollBehavior=t),n.scrollTop=e,n.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(W(this.activeOption,"active"),te(this.activeOption,{"aria-selected":null})),this.activeOption=null,te(this.focus_node,{"aria-activedescendant":null})}selectAll(){const e=this;if("single"===e.settings.mode)return;const t=e.controlChildren();t.length&&(e.hideInput(),e.close(),e.activeItems=t,D(t,(t=>{e.setActiveItemClass(t)})))}inputState(){var e=this;e.control.contains(e.control_input)&&(te(e.control_input,{placeholder:e.settings.placeholder}),e.activeItems.length>0||!e.isFocused&&e.settings.hidePlaceholder&&e.items.length>0?(e.setTextboxValue(),e.isInputHidden=!0):(e.settings.hidePlaceholder&&e.items.length>0&&te(e.control_input,{placeholder:""}),e.isInputHidden=!1),e.wrapper.classList.toggle("input-hidden",e.isInputHidden))}hideInput(){this.inputState()}showInput(){this.inputState()}inputValue(){return this.control_input.value.trim()}focus(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.control_input.offsetWidth?e.control_input.focus():e.focus_node.focus(),setTimeout((()=>{e.ignoreFocus=!1,e.onFocus()}),0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())}getSearchOptions(){var e=this.settings,t=e.sortField;return"string"==typeof e.sortField&&(t=[{field:e.sortField}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t,nesting:e.nesting}}search(e){var t,n,r=this,i=this.getSearchOptions();if(r.settings.score&&"function"!=typeof(n=r.settings.score.call(r,e)))throw new Error('Tom Select "score" setting must be a function that returns a function');return e!==r.lastQuery?(r.lastQuery=e,t=r.sifter.search(e,Object.assign(i,{score:n})),r.currentResults=t):t=Object.assign({},r.currentResults),r.settings.hideSelected&&(t.items=t.items.filter((e=>{let t=ve(e.id);return!(t&&-1!==r.items.indexOf(t))}))),t}refreshOptions(e=!0){var t,n,r,i,s,o,a,l,c,u;const d={},h=[];var p=this,f=p.inputValue();const g=f===p.lastQuery||""==f&&null==p.lastQuery;var m=p.search(f),v=null,y=p.settings.shouldOpen||!1,b=p.dropdown_content;for(g&&(v=p.activeOption)&&(c=v.closest("[data-group]")),i=m.items.length,"number"==typeof p.settings.maxOptions&&(i=Math.min(i,p.settings.maxOptions)),i>0&&(y=!0),t=0;t<i;t++){let e=m.items[t];if(!e)continue;let i=e.id,a=p.options[i];if(void 0===a)continue;let l=ye(i),u=p.getOption(l,!0);for(p.settings.hideSelected||u.classList.toggle("selected",p.items.includes(l)),s=a[p.settings.optgroupField]||"",n=0,r=(o=Array.isArray(s)?s:[s])&&o.length;n<r;n++){s=o[n],p.optgroups.hasOwnProperty(s)||(s="");let e=d[s];void 0===e&&(e=document.createDocumentFragment(),h.push(s)),n>0&&(u=u.cloneNode(!0),te(u,{id:a.$id+"-clone-"+n,"aria-selected":null}),u.classList.add("ts-cloned"),W(u,"active"),p.activeOption&&p.activeOption.dataset.value==i&&c&&c.dataset.group===s.toString()&&(v=u)),e.appendChild(u),d[s]=e}}p.settings.lockOptgroupOrder&&h.sort(((e,t)=>{const n=p.optgroups[e],r=p.optgroups[t];return(n&&n.$order||0)-(r&&r.$order||0)})),a=document.createDocumentFragment(),D(h,(e=>{let t=d[e];if(!t||!t.children.length)return;let n=p.optgroups[e];if(void 0!==n){let e=document.createDocumentFragment(),r=p.render("optgroup_header",n);xe(e,r),xe(e,t);let i=p.render("optgroup",{group:n,options:e});xe(a,i)}else xe(a,t)})),b.innerHTML="",xe(b,a),p.settings.highlight&&(ie(b),m.query.length&&m.tokens.length&&D(m.tokens,(e=>{re(b,e.regex)})));var w=e=>{let t=p.render(e,{input:f});return t&&(y=!0,b.insertBefore(t,b.firstChild)),t};if(p.loading?w("loading"):p.settings.shouldLoad.call(p,f)?0===m.items.length&&w("no_results"):w("not_loading"),(l=p.canCreate(f))&&(u=w("option_create")),p.hasOptions=m.items.length>0||l,y){if(m.items.length>0){if(v||"single"!==p.settings.mode||null==p.items[0]||(v=p.getOption(p.items[0])),!b.contains(v)){let e=0;u&&!p.settings.addPrecedence&&(e=1),v=p.selectable()[e]}}else u&&(v=u);e&&!p.isOpen&&(p.open(),p.scrollToOption(v,"auto")),p.setActiveOption(v)}else p.clearActiveOption(),e&&p.isOpen&&p.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(e,t=!1){const n=this;if(Array.isArray(e))return n.addOptions(e,t),!1;const r=ve(e[n.settings.valueField]);return null!==r&&!n.options.hasOwnProperty(r)&&(e.$order=e.$order||++n.order,e.$id=n.inputId+"-opt-"+e.$order,n.options[r]=e,n.lastQuery=null,t&&(n.userOptions[r]=t,n.trigger("option_add",r,e)),r)}addOptions(e,t=!1){D(e,(e=>{this.addOption(e,t)}))}registerOption(e){return this.addOption(e)}registerOptionGroup(e){var t=ve(e[this.settings.optgroupValueField]);return null!==t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)}addOptionGroup(e,t){var n;t[this.settings.optgroupValueField]=e,(n=this.registerOptionGroup(t))&&this.trigger("optgroup_add",n,t)}removeOptionGroup(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.clearCache(),this.trigger("optgroup_remove",e))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(e,t){const n=this;var r,i;const s=ve(e),o=ve(t[n.settings.valueField]);if(null===s)return;const a=n.options[s];if(null==a)return;if("string"!=typeof o)throw new Error("Value must be set in option data");const l=n.getOption(s),c=n.getItem(s);if(t.$order=t.$order||a.$order,delete n.options[s],n.uncacheValue(o),n.options[o]=t,l){if(n.dropdown_content.contains(l)){const e=n._render("option",t);ne(l,e),n.activeOption===l&&n.setActiveOption(e)}l.remove()}c&&(-1!==(i=n.items.indexOf(s))&&n.items.splice(i,1,o),r=n._render("item",t),c.classList.contains("active")&&G(r,"active"),ne(c,r)),n.lastQuery=null}removeOption(e,t){const n=this;e=ye(e),n.uncacheValue(e),delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)}clearOptions(e){const t=(e||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const n={};D(this.options,((e,r)=>{t(e,r)&&(n[r]=e)})),this.options=this.sifter.items=n,this.lastQuery=null,this.trigger("option_clear")}clearFilter(e,t){return this.items.indexOf(t)>=0}getOption(e,t=!1){const n=ve(e);if(null===n)return null;const r=this.options[n];if(null!=r){if(r.$div)return r.$div;if(t)return this._render("option",r)}return null}getAdjacent(e,t,n="option"){var r,i=this;if(!e)return null;r="item"==n?i.controlChildren():i.dropdown_content.querySelectorAll("[data-selectable]");for(let n=0;n<r.length;n++)if(r[n]==e)return t>0?r[n+1]:r[n-1];return null}getItem(e){if("object"==typeof e)return e;var t=ve(e);return null!==t?this.control.querySelector(`[data-value="${Ce(t)}"]`):null}addItems(e,t){var n=this,r=Array.isArray(e)?e:[e];const i=(r=r.filter((e=>-1===n.items.indexOf(e))))[r.length-1];r.forEach((e=>{n.isPending=e!==i,n.addItem(e,t)}))}addItem(e,t){Oe(this,t?[]:["change","dropdown_close"],(()=>{var n,r;const i=this,s=i.settings.mode,o=ve(e);if((!o||-1===i.items.indexOf(o)||("single"===s&&i.close(),"single"!==s&&i.settings.duplicates))&&null!==o&&i.options.hasOwnProperty(o)&&("single"===s&&i.clear(t),"multi"!==s||!i.isFull())){if(n=i._render("item",i.options[o]),i.control.contains(n)&&(n=n.cloneNode(!0)),r=i.isFull(),i.items.splice(i.caretPos,0,o),i.insertAtCaret(n),i.isSetup){if(!i.isPending&&i.settings.hideSelected){let e=i.getOption(o),t=i.getAdjacent(e,1);t&&i.setActiveOption(t)}i.isPending||i.settings.closeAfterSelect||i.refreshOptions(i.isFocused&&"single"!==s),0!=i.settings.closeAfterSelect&&i.isFull()?i.close():i.isPending||i.positionDropdown(),i.trigger("item_add",o,n),i.isPending||i.updateOriginalInput({silent:t})}(!i.isPending||!r&&i.isFull())&&(i.inputState(),i.refreshState())}}))}removeItem(e=null,t){const n=this;if(!(e=n.getItem(e)))return;var r,i;const s=e.dataset.value;r=ee(e),e.remove(),e.classList.contains("active")&&(i=n.activeItems.indexOf(e),n.activeItems.splice(i,1),W(e,"active")),n.items.splice(r,1),n.lastQuery=null,!n.settings.persist&&n.userOptions.hasOwnProperty(s)&&n.removeOption(s,t),r<n.caretPos&&n.setCaret(n.caretPos-1),n.updateOriginalInput({silent:t}),n.refreshState(),n.positionDropdown(),n.trigger("item_remove",s,e)}createItem(e=null,t=(()=>{})){3===arguments.length&&(t=arguments[2]),"function"!=typeof t&&(t=()=>{});var n,r=this,i=r.caretPos;if(e=e||r.inputValue(),!r.canCreate(e))return t(),!1;r.lock();var s=!1,o=e=>{if(r.unlock(),!e||"object"!=typeof e)return t();var n=ve(e[r.settings.valueField]);if("string"!=typeof n)return t();r.setTextboxValue(),r.addOption(e,!0),r.setCaret(i),r.addItem(n),t(e),s=!0};return n="function"==typeof r.settings.create?r.settings.create.call(this,e,o):{[r.settings.labelField]:e,[r.settings.valueField]:e},s||o(n),!0}refreshItems(){var e=this;e.lastQuery=null,e.isSetup&&e.addItems(e.items),e.updateOriginalInput(),e.refreshState()}refreshState(){const e=this;e.refreshValidityState();const t=e.isFull(),n=e.isLocked;e.wrapper.classList.toggle("rtl",e.rtl);const r=e.wrapper.classList;r.toggle("focus",e.isFocused),r.toggle("disabled",e.isDisabled),r.toggle("required",e.isRequired),r.toggle("invalid",!e.isValid),r.toggle("locked",n),r.toggle("full",t),r.toggle("input-active",e.isFocused&&!e.isInputHidden),r.toggle("dropdown-active",e.isOpen),r.toggle("has-options",Y(e.options)),r.toggle("has-items",e.items.length>0)}refreshValidityState(){var e=this;e.input.validity&&(e.isValid=e.input.validity.valid,e.isInvalid=!e.isValid)}isFull(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems}updateOriginalInput(e={}){const t=this;var n,r;const i=t.input.querySelector('option[value=""]');if(t.is_select_tag){const s=[],o=t.input.querySelectorAll("option:checked").length;function a(e,n,r){return e||(e=H('<option value="'+be(n)+'">'+be(r)+"</option>")),e!=i&&t.input.append(e),s.push(e),(e!=i||o>0)&&(e.selected=!0),e}t.input.querySelectorAll("option:checked").forEach((e=>{e.selected=!1})),0==t.items.length&&"single"==t.settings.mode?a(i,"",""):t.items.forEach((e=>{n=t.options[e],r=n[t.settings.labelField]||"",s.includes(n.$option)?a(t.input.querySelector(`option[value="${Ce(e)}"]:not(:checked)`),e,r):n.$option=a(n.$option,e,r)}))}else t.input.value=t.getValue();t.isSetup&&(e.silent||t.trigger("change",t.getValue()))}open(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.isOpen=!0,te(e.focus_node,{"aria-expanded":"true"}),e.refreshState(),z(e.dropdown,{visibility:"hidden",display:"block"}),e.positionDropdown(),z(e.dropdown,{visibility:"visible",display:"block"}),e.focus(),e.trigger("dropdown_open",e.dropdown))}close(e=!0){var t=this,n=t.isOpen;e&&(t.setTextboxValue(),"single"===t.settings.mode&&t.items.length&&t.hideInput()),t.isOpen=!1,te(t.focus_node,{"aria-expanded":"false"}),z(t.dropdown,{display:"none"}),t.settings.hideSelected&&t.clearActiveOption(),t.refreshState(),n&&t.trigger("dropdown_close",t.dropdown)}positionDropdown(){if("body"===this.settings.dropdownParent){var e=this.control,t=e.getBoundingClientRect(),n=e.offsetHeight+t.top+window.scrollY,r=t.left+window.scrollX;z(this.dropdown,{width:t.width+"px",top:n+"px",left:r+"px"})}}clear(e){var t=this;if(t.items.length){var n=t.controlChildren();D(n,(e=>{t.removeItem(e,!0)})),t.showInput(),e||t.updateOriginalInput(),t.trigger("clear")}}insertAtCaret(e){const t=this,n=t.caretPos,r=t.control;r.insertBefore(e,r.children[n]||null),t.setCaret(n+1)}deleteSelection(e){var t,n,r,i,s=this;t=e&&e.keyCode===he?-1:1,n=Ee(s.control_input);const o=[];if(s.activeItems.length)i=X(s.activeItems,t),r=ee(i),t>0&&r++,D(s.activeItems,(e=>o.push(e)));else if((s.isFocused||"single"===s.settings.mode)&&s.items.length){const e=s.controlChildren();let r;t<0&&0===n.start&&0===n.length?r=e[s.caretPos-1]:t>0&&n.start===s.inputValue().length&&(r=e[s.caretPos]),void 0!==r&&o.push(r)}if(!s.shouldDelete(o,e))return!1;for(Ae(e,!0),void 0!==r&&s.setCaret(r);o.length;)s.removeItem(o.pop());return s.showInput(),s.positionDropdown(),s.refreshOptions(!1),!0}shouldDelete(e,t){const n=e.map((e=>e.dataset.value));return!(!n.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete(n,t))}advanceSelection(e,t){var n,r,i=this;i.rtl&&(e*=-1),i.inputValue().length||(ke(ge,t)||ke("shiftKey",t)?(r=(n=i.getLastActive(e))?n.classList.contains("active")?i.getAdjacent(n,e,"item"):n:e>0?i.control_input.nextElementSibling:i.control_input.previousElementSibling)&&(r.classList.contains("active")&&i.removeActiveItem(n),i.setActiveItemClass(r)):i.moveCaret(e))}moveCaret(e){}getLastActive(e){let t=this.control.querySelector(".last-active");if(t)return t;var n=this.control.querySelectorAll(".active");return n?X(n,e):void 0}setCaret(e){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.isLocked=!0,this.refreshState()}unlock(){this.isLocked=!1,this.refreshState()}disable(){var e=this;e.input.disabled=!0,e.control_input.disabled=!0,e.focus_node.tabIndex=-1,e.isDisabled=!0,this.close(),e.lock()}enable(){var e=this;e.input.disabled=!1,e.control_input.disabled=!1,e.focus_node.tabIndex=e.tabIndex,e.isDisabled=!1,e.unlock()}destroy(){var e=this,t=e.revertSettings;e.trigger("destroy"),e.off(),e.wrapper.remove(),e.dropdown.remove(),e.input.innerHTML=t.innerHTML,e.input.tabIndex=t.tabIndex,W(e.input,"tomselected","ts-hidden-accessible"),e._destroy(),delete e.input.tomselect}render(e,t){var n,r;const i=this;if("function"!=typeof this.settings.render[e])return null;if(!(r=i.settings.render[e].call(this,t,be)))return null;if(r=H(r),"option"===e||"option_create"===e?t[i.settings.disabledField]?te(r,{"aria-disabled":"true"}):te(r,{"data-selectable":""}):"optgroup"===e&&(n=t.group[i.settings.optgroupValueField],te(r,{"data-group":n}),t.group[i.settings.disabledField]&&te(r,{"data-disabled":""})),"option"===e||"item"===e){const n=ye(t[i.settings.valueField]);te(r,{"data-value":n}),"item"===e?(G(r,i.settings.itemClass),te(r,{"data-ts-item":""})):(G(r,i.settings.optionClass),te(r,{role:"option",id:t.$id}),t.$div=r,i.options[n]=t)}return r}_render(e,t){const n=this.render(e,t);if(null==n)throw"HTMLElement expected";return n}clearCache(){D(this.options,(e=>{e.$div&&(e.$div.remove(),delete e.$div)}))}uncacheValue(e){const t=this.getOption(e);t&&t.remove()}canCreate(e){return this.settings.create&&e.length>0&&this.settings.createFilter.call(this,e)}hook(e,t,n){var r=this,i=r[t];r[t]=function(){var t,s;return"after"===e&&(t=i.apply(r,arguments)),s=n.apply(r,arguments),"instead"===e?s:("before"===e&&(t=i.apply(r,arguments)),t)}}}function Pe(){_e(this.input,"change",(()=>{this.sync()}))}function Me(){var e=this,t=e.onOptionSelect;e.settings.hideSelected=!1;var n=function(e){setTimeout((()=>{var t=e.querySelector("input");t instanceof HTMLInputElement&&(e.classList.contains("selected")?t.checked=!0:t.checked=!1)}),1)};e.hook("after","setupTemplates",(()=>{var t=e.settings.render.option;e.settings.render.option=(n,r)=>{var i=H(t.call(e,n,r)),s=document.createElement("input");s.addEventListener("click",(function(e){Ae(e)})),s.type="checkbox";const o=ve(n[e.settings.valueField]);return o&&e.items.indexOf(o)>-1&&(s.checked=!0),i.prepend(s),i}})),e.on("item_remove",(t=>{var r=e.getOption(t);r&&(r.classList.remove("selected"),n(r))})),e.on("item_add",(t=>{var r=e.getOption(t);r&&n(r)})),e.hook("instead","onOptionSelect",((r,i)=>{if(i.classList.contains("selected"))return i.classList.remove("selected"),e.removeItem(i.dataset.value),e.refreshOptions(),void Ae(r,!0);t.call(e,r,i),n(i)}))}function je(e){const t=this,n=Object.assign({className:"clear-button",title:"Clear All",html:e=>`<div class="${e.className}" title="${e.title}">&#10799;</div>`},e);t.on("initialize",(()=>{var e=H(n.html(n));e.addEventListener("click",(e=>{t.isDisabled||(t.clear(),"single"===t.settings.mode&&t.settings.allowEmptyOption&&t.addItem(""),e.preventDefault(),e.stopPropagation())})),t.control.appendChild(e)}))}function Fe(){var e=this;if(!$.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===e.settings.mode){var t=e.lock,n=e.unlock;e.hook("instead","lock",(()=>{var n=$(e.control).data("sortable");return n&&n.disable(),t.call(e)})),e.hook("instead","unlock",(()=>{var t=$(e.control).data("sortable");return t&&t.enable(),n.call(e)})),e.on("initialize",(()=>{var t=$(e.control).sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:e.isLocked,start:(e,n)=>{n.placeholder.css("width",n.helper.css("width")),t.css({overflow:"visible"})},stop:()=>{t.css({overflow:"hidden"});var n=[];t.children("[data-value]").each((function(){this.dataset.value&&n.push(this.dataset.value)})),e.setValue(n)}})}))}}function Ne(e){const t=this,n=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:e=>'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a class="'+e.closeClass+'">&times;</a></div></div>'},e);t.on("initialize",(()=>{var e=H(n.html(n)),r=e.querySelector("."+n.closeClass);r&&r.addEventListener("click",(e=>{Ae(e,!0),t.close()})),t.dropdown.insertBefore(e,t.dropdown.firstChild)}))}function De(){var e=this;e.hook("instead","setCaret",(t=>{"single"!==e.settings.mode&&e.control.contains(e.control_input)?(t=Math.max(0,Math.min(e.items.length,t)))==e.caretPos||e.isPending||e.controlChildren().forEach(((n,r)=>{r<t?e.control_input.insertAdjacentElement("beforebegin",n):e.control.appendChild(n)})):t=e.items.length,e.caretPos=t})),e.hook("instead","moveCaret",(t=>{if(!e.isFocused)return;const n=e.getLastActive(t);if(n){const r=ee(n);e.setCaret(t>0?r+1:r),e.setActiveItem(),W(n,"last-active")}else e.setCaret(e.caretPos+t)}))}function Be(){const e=this;e.settings.shouldOpen=!0,e.hook("before","setup",(()=>{e.focus_node=e.control,G(e.control_input,"dropdown-input");const t=H('<div class="dropdown-input-wrap">');t.append(e.control_input),e.dropdown.insertBefore(t,e.dropdown.firstChild);const n=H('<input class="items-placeholder" tabindex="-1" />');n.placeholder=e.settings.placeholder||"",e.control.append(n)})),e.on("initialize",(()=>{e.control_input.addEventListener("keydown",(t=>{switch(t.keyCode){case ae:return e.isOpen&&(Ae(t,!0),e.close()),void e.clearActiveItems();case fe:e.focus_node.tabIndex=-1}return e.onKeyDown.call(e,t)})),e.on("blur",(()=>{e.focus_node.tabIndex=e.isDisabled?-1:e.tabIndex})),e.on("dropdown_open",(()=>{e.control_input.focus()}));const t=e.onBlur;e.hook("instead","onBlur",(n=>{if(!n||n.relatedTarget!=e.control_input)return t.call(e)})),_e(e.control_input,"blur",(()=>e.onBlur())),e.hook("before","close",(()=>{e.isOpen&&e.focus_node.focus({preventScroll:!0})}))}))}function $e(){var e=this;e.on("initialize",(()=>{var t=document.createElement("span"),n=e.control_input;t.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",e.wrapper.appendChild(t);var r=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const e of r)t.style[e]=n.style[e];var i=()=>{t.textContent=n.value,n.style.width=t.clientWidth+"px"};i(),e.on("update item_add item_remove",i),_e(n,"input",i),_e(n,"keyup",i),_e(n,"blur",i),_e(n,"update",i)}))}function Ve(){var e=this,t=e.deleteSelection;this.hook("instead","deleteSelection",(n=>!!e.activeItems.length&&t.call(e,n)))}function Re(){this.hook("instead","setActiveItem",(()=>{})),this.hook("instead","selectAll",(()=>{}))}function He(){var e=this,t=e.onKeyDown;e.hook("instead","onKeyDown",(n=>{var r,i,s,o;if(!e.isOpen||n.keyCode!==le&&n.keyCode!==ue)return t.call(e,n);e.ignoreHover=!0,o=Z(e.activeOption,"[data-group]"),r=ee(e.activeOption,"[data-selectable]"),o&&(o=n.keyCode===le?o.previousSibling:o.nextSibling)&&(i=(s=o.querySelectorAll("[data-selectable]"))[Math.min(s.length-1,r)])&&e.setActiveOption(i)}))}function Ke(e){const t=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},e);var n=this;if(t.append){var r='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+be(t.title)+'">'+t.label+"</a>";n.hook("after","setupTemplates",(()=>{var e=n.settings.render.item;n.settings.render.item=(t,i)=>{var s=H(e.call(n,t,i)),o=H(r);return s.appendChild(o),_e(o,"mousedown",(e=>{Ae(e,!0)})),_e(o,"click",(e=>{Ae(e,!0),n.isLocked||n.shouldDelete([s],e)&&(n.removeItem(s),n.refreshOptions(!1),n.inputState())})),s}}))}}function qe(e){const t=this,n=Object.assign({text:e=>e[t.settings.labelField]},e);t.on("item_remove",(function(e){if(t.isFocused&&""===t.control_input.value.trim()){var r=t.options[e];r&&t.setTextboxValue(n.text.call(t,r))}}))}function Ue(){const e=this,t=e.canLoad,n=e.clearActiveOption,r=e.loadCallback;var i,s,o={},a=!1,l=[];if(e.settings.shouldLoadMore||(e.settings.shouldLoadMore=()=>{if(i.clientHeight/(i.scrollHeight-i.scrollTop)>.9)return!0;if(e.activeOption){var t=e.selectable();if(Array.from(t).indexOf(e.activeOption)>=t.length-2)return!0}return!1}),!e.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";e.settings.sortField=[{field:"$order"},{field:"$score"}];const c=t=>!("number"==typeof e.settings.maxOptions&&i.children.length>=e.settings.maxOptions||!(t in o)||!o[t]),u=(t,n)=>e.items.indexOf(n)>=0||l.indexOf(n)>=0;e.setNextUrl=(e,t)=>{o[e]=t},e.getUrl=t=>{if(t in o){const e=o[t];return o[t]=!1,e}return o={},e.settings.firstUrl.call(e,t)},e.hook("instead","clearActiveOption",(()=>{if(!a)return n.call(e)})),e.hook("instead","canLoad",(n=>n in o?c(n):t.call(e,n))),e.hook("instead","loadCallback",((t,n)=>{if(a){if(s){const n=t[0];void 0!==n&&(s.dataset.value=n[e.settings.valueField])}}else e.clearOptions(u);r.call(e,t,n),a=!1})),e.hook("after","refreshOptions",(()=>{const t=e.lastValue;var n;c(t)?(n=e.render("loading_more",{query:t}))&&(n.setAttribute("data-selectable",""),s=n):t in o&&!i.querySelector(".no-results")&&(n=e.render("no_more_results",{query:t})),n&&(G(n,e.settings.optionClass),i.append(n))})),e.on("initialize",(()=>{l=Object.keys(e.options),i=e.dropdown_content,e.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},e.settings.render),i.addEventListener("scroll",(()=>{e.settings.shouldLoadMore.call(e)&&c(e.lastValue)&&(a||(a=!0,e.load.call(e,e.lastValue)))}))}))}return Ie.define("change_listener",Pe),Ie.define("checkbox_options",Me),Ie.define("clear_button",je),Ie.define("drag_drop",Fe),Ie.define("dropdown_header",Ne),Ie.define("caret_position",De),Ie.define("dropdown_input",Be),Ie.define("input_autogrow",$e),Ie.define("no_backspace_delete",Ve),Ie.define("no_active_items",Re),Ie.define("optgroup_columns",He),Ie.define("remove_button",Ke),Ie.define("restore_on_backspace",qe),Ie.define("virtual_scroll",Ue),Ie}()},500:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});const r=new WeakMap;function i(e,t,n,i){var s,o;if(!e&&!r.has(t))return!1;const a=null!==(s=r.get(t))&&void 0!==s?s:new WeakMap;if(r.set(t,a),!e&&!r.has(t))return!1;const l=null!==(o=a.get(n))&&void 0!==o?o:new Set;a.set(n,l);const c=l.has(i);return e?l.add(i):l.delete(i),c&&e}const s=function e(t,n,r,s,o){if("string"==typeof t&&(t=document.querySelectorAll(t)),"function"!=typeof t.addEventListener){const i=Array.prototype.map.call(t,(t=>e(t,n,r,s,o)));return{destroy(){for(const e of i)e.destroy()}}}const a=t instanceof Document?t.documentElement:t,l=Boolean("object"==typeof o?o.capture:o),c=e=>{const t=function(e,t){let n=e.target;if(n instanceof Text&&(n=n.parentElement),n instanceof Element&&e.currentTarget instanceof Element){const r=n.closest(t);if(r&&e.currentTarget.contains(r))return r}}(e,n);t&&(e.delegateTarget=t,s.call(a,e))};"object"==typeof o&&delete o.once;const u=JSON.stringify({selector:n,type:r,capture:l}),d={destroy(){a.removeEventListener(r,c,o),i(!1,a,s,u)}};return i(!0,a,s,u)||a.addEventListener(r,c,o),d}}}]);